import{_ as gt,a as ht}from"./CuTdjjvY.js";import{_ as qe}from"./D7mtGAGI.js";import{_ as De}from"./C0MpYsF0.js";import{_ as Ge}from"./BA2uKlca.js";import{_ as He}from"./CKP9D31c.js";import{_ as Ke}from"./9nx4tXco.js";import{c as bt}from"./B8D96gbP.js";import{o as M,c as H,b as I,f as se,r as _,m as V,z as Ye,E as Ze,B as X,G as $e,H as xt,I as Qe,q as le,i as Ce,u as b,J as Fe,K as yt,L as Je,M as Se,A as St,N as ie,O as Xe,P as Ie,F as he,Q as et,n as fe,R as kt,x as ae,w as D,d as y,S as ne,s as de,g as tt,t as re,e as U,C as wt,T as _t,j as Dt,a as It}from"./Ho11KFCP.js";import{_ as ot}from"./BCUAfS-d.js";import{_ as Ot}from"./FIoW0_7y.js";import{o as Ve,i as nt,w as Tt,f as Ct,u as Et,O as Rt,t as Ae,n as Lt,S as Vt,_ as Mt}from"./C1WC2wNv.js";import{u as ge,o as j,t as $t,i as Oe,E as Ft,A as ke,T as Me,a as Ee,N as Te,l as At,b as te}from"./ChDmTMo_.js";import{s as Pt,r as Pe}from"./BfBXRbJU.js";import{d as zt,a as q,g as ue,b as ye,c as Nt}from"./COAcYwch.js";import{_ as Ut}from"./PYXEAhwZ.js";import{h as oe}from"./BWsKriaw.js";import{g as Bt,u as jt}from"./ycDIoMx1.js";import{D as at}from"./NYwah7P7.js";import{r as Wt}from"./J0KE5HEr.js";import{r as lt,a as qt}from"./T9FkOv9P.js";import{u as Gt}from"./bkTsuWyN.js";import{u as ze}from"./Z-iyx2tQ.js";import"./BhtQlZEJ.js";import"./BmYiYK0q.js";function Ne(o,s){return M(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[I("path",{"fill-rule":"evenodd",d:"M12 2.25a.75.75 0 0 1 .75.75v11.69l3.22-3.22a.75.75 0 1 1 1.06 1.06l-4.5 4.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 1 1 1.06-1.06l3.22 3.22V3a.75.75 0 0 1 .75-.75Zm-9 13.5a.75.75 0 0 1 .75.75v2.25a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5V16.5a.75.75 0 0 1 1.5 0v2.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V16.5a.75.75 0 0 1 .75-.75Z","clip-rule":"evenodd"})])}function Ht(o,s){return M(),H("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[I("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v16.5c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Zm3.75 11.625a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})])}const Kt=se({__name:"MonacoEditor.client",props:{lang:{default:()=>"plaintext"},options:{default:()=>({})},modelUri:{},modelValue:{default:()=>""}},emits:["update:modelValue","load"],setup(o,{expose:s,emit:e}){const a=o,t=e,l=_(!0),r=V(()=>a.lang||a.options.language),n=Ye(),p=_(),v=Ze(),u={automaticLayout:!0};let d,c;return X(()=>a.modelValue,()=>{(d==null?void 0:d.getValue())!==a.modelValue&&(d==null||d.setValue(a.modelValue))}),X(()=>[a.lang,a.modelUri],()=>{c&&c.dispose(),c=v.editor.createModel(a.modelValue,r.value,a.modelUri),d==null||d.setModel(c)}),X(()=>a.options,()=>{d==null||d.updateOptions($e(a.options,u))}),X(p,(S,L)=>{!p.value||L||(d=v.editor.create(p.value,$e(a.options,u)),c=v.editor.createModel(a.modelValue,r.value,a.modelUri),n.value=d,d.layout(),d.setModel(c),d.onDidChangeModelContent(()=>{t("update:modelValue",d.getValue())}),l.value=!1,t("load",d))}),s({$editor:n}),xt(()=>{d==null||d.dispose(),c==null||c.dispose()}),(S,L)=>(M(),H("div",{ref_key:"editorElement",ref:p},[l.value?Qe(S.$slots,"default",{key:0}):le("",!0)],512))}}),Yt={class:"flex min-w-fit justify-end"},Zt={"data-slot":"control",class:"group relative block w-full before:absolute before:inset-px before:rounded-[calc(theme(borderRadius.lg)-1px)] before:bg-white before:shadow dark:before:hidden after:pointer-events-none after:absolute after:inset-0 after:rounded-lg after:ring-inset after:ring-transparent sm:after:has-[[data-focus]]:ring-2 sm:after:has-[[data-focus]]:ring-blue-500 has-[[data-disabled]]:opacity-50 before:has-[[data-disabled]]:bg-zinc-950/5 before:has-[[data-disabled]]:shadow-none"},Qt=["value"],Jt={__name:"InputSelect",props:{modelValue:String},emits:["update:modelValue"],setup(o,{expose:s}){const e=_(null);return Ce(()=>{e.value.hasAttribute("autofocus")&&e.value.focus()}),s({focus:()=>e.value.focus()}),(a,t)=>(M(),H("div",Yt,[I("span",Zt,[I("select",{ref_key:"input",ref:e,class:"bg-gray-50 relative block w-full appearance-none rounded-lg py-[calc(theme(spacing[2.5])-1px)] sm:py-[calc(theme(spacing[1.5])-1px)] pl-[calc(theme(spacing[3.5])-1px)] pr-[calc(theme(spacing.10)-1px)] sm:pl-[calc(theme(spacing.3)-1px)] sm:pr-[calc(theme(spacing.9)-1px)] [&_optgroup]:font-semibold text-base/6 text-zinc-950 placeholder:text-zinc-500 sm:text-sm/6 dark:text-white dark:*:text-white border border-zinc-950/10 data-[hover]:border-zinc-950/20 dark:border-white/10 dark:data-[hover]:border-white/20 dark:bg-white/5 dark:*:bg-zinc-800 focus:outline-none data-[invalid]:border-red-500 data-[invalid]:data-[hover]:border-red-500 data-[invalid]:dark:border-red-600 data-[invalid]:data-[hover]:dark:border-red-600 data-[disabled]:border-zinc-950/20 data-[disabled]:opacity-100 dark:data-[hover]:data-[disabled]:border-white/15 data-[disabled]:dark:border-white/15 data-[disabled]:dark:bg-white/[2.5%]",value:o.modelValue,onChange:t[0]||(t[0]=l=>a.$emit("update:modelValue",l.target.value))},[Qe(a.$slots,"default")],40,Qt),t[1]||(t[1]=I("span",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},[I("svg",{class:"size-5 stroke-zinc-500 group-has-[[data-disabled]]:stroke-zinc-600 sm:size-4 dark:stroke-zinc-400 forced-colors:stroke-[CanvasText]",viewBox:"0 0 16 16","aria-hidden":"true",fill:"none"},[I("path",{d:"M5.75 10.75L8 13L10.25 10.75","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),I("path",{d:"M10.25 5.25L8 3L5.75 5.25","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1))])]))}};function me(o,s,e){let a=e.initialDeps??[],t;return()=>{var l,r,n,p;let v;e.key&&((l=e.debug)!=null&&l.call(e))&&(v=Date.now());const u=o();if(!(u.length!==a.length||u.some((S,L)=>a[L]!==S)))return t;a=u;let c;if(e.key&&((r=e.debug)!=null&&r.call(e))&&(c=Date.now()),t=s(...u),e.key&&((n=e.debug)!=null&&n.call(e))){const S=Math.round((Date.now()-v)*100)/100,L=Math.round((Date.now()-c)*100)/100,F=L/16,Y=(G,O)=>{for(G=String(G);G.length<O;)G=" "+G;return G};console.info(`%câ± ${Y(L,5)} /${Y(S,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*F,120))}deg 100% 31%);`,e==null?void 0:e.key)}return(p=e==null?void 0:e.onChange)==null||p.call(e,t),t}}function Le(o,s){if(o===void 0)throw new Error("Unexpected undefined");return o}const Xt=(o,s)=>Math.abs(o-s)<1,eo=(o,s,e)=>{let a;return function(...t){o.clearTimeout(a),a=o.setTimeout(()=>s.apply(this,t),e)}},to=o=>o,oo=o=>{const s=Math.max(o.startIndex-o.overscan,0),e=Math.min(o.endIndex+o.overscan,o.count-1),a=[];for(let t=s;t<=e;t++)a.push(t);return a},no=(o,s)=>{const e=o.scrollElement;if(!e)return;const a=o.targetWindow;if(!a)return;const t=r=>{const{width:n,height:p}=r;s({width:Math.round(n),height:Math.round(p)})};if(t(e.getBoundingClientRect()),!a.ResizeObserver)return()=>{};const l=new a.ResizeObserver(r=>{const n=r[0];if(n!=null&&n.borderBoxSize){const p=n.borderBoxSize[0];if(p){t({width:p.inlineSize,height:p.blockSize});return}}t(e.getBoundingClientRect())});return l.observe(e,{box:"border-box"}),()=>{l.unobserve(e)}},Ue={passive:!0},ao=typeof window>"u"?!0:"onscrollend"in window,lo=(o,s)=>{const e=o.scrollElement;if(!e)return;const a=o.targetWindow;if(!a)return;let t=0;const l=ao?()=>{}:eo(a,()=>{s(t,!1)},o.options.isScrollingResetDelay),r=v=>()=>{const{horizontal:u,isRtl:d}=o.options;t=u?e.scrollLeft*(d&&-1||1):e.scrollTop,l(),s(t,v)},n=r(!0),p=r(!1);return p(),e.addEventListener("scroll",n,Ue),e.addEventListener("scrollend",p,Ue),()=>{e.removeEventListener("scroll",n),e.removeEventListener("scrollend",p)}},ro=(o,s,e)=>{if(s!=null&&s.borderBoxSize){const a=s.borderBoxSize[0];if(a)return Math.round(a[e.options.horizontal?"inlineSize":"blockSize"])}return Math.round(o.getBoundingClientRect()[e.options.horizontal?"width":"height"])},so=(o,{adjustments:s=0,behavior:e},a)=>{var t,l;const r=o+s;(l=(t=a.scrollElement)==null?void 0:t.scrollTo)==null||l.call(t,{[a.options.horizontal?"left":"top"]:r,behavior:e})};class io{constructor(s){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const a=()=>e||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:e=new this.targetWindow.ResizeObserver(t=>{t.forEach(l=>{this._measureElement(l.target,l)})}));return{disconnect:()=>{var t;(t=a())==null||t.disconnect(),e=null},observe:t=>{var l;return(l=a())==null?void 0:l.observe(t,{box:"border-box"})},unobserve:t=>{var l;return(l=a())==null?void 0:l.unobserve(t)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([a,t])=>{typeof t>"u"&&delete e[a]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:to,rangeExtractor:oo,onChange:()=>{},measureElement:ro,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,...e}},this.notify=e=>{var a,t;(t=(a=this.options).onChange)==null||t.call(a,this,e)},this.maybeNotify=me(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const a=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==a){if(this.cleanup(),!a){this.maybeNotify();return}this.scrollElement=a,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((e=this.scrollElement)==null?void 0:e.window)??null,this.elementsCache.forEach(t=>{this.observer.observe(t)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,t=>{this.scrollRect=t,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(t,l)=>{this.scrollAdjustments=0,this.scrollDirection=l?this.getScrollOffset()<t?"forward":"backward":null,this.scrollOffset=t,this.isScrolling=l,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,a)=>{const t=new Map,l=new Map;for(let r=a-1;r>=0;r--){const n=e[r];if(t.has(n.lane))continue;const p=l.get(n.lane);if(p==null||n.end>p.end?l.set(n.lane,n):n.end<p.end&&t.set(n.lane,!0),t.size===this.options.lanes)break}return l.size===this.options.lanes?Array.from(l.values()).sort((r,n)=>r.end===n.end?r.index-n.index:r.end-n.end)[0]:void 0},this.getMeasurementOptions=me(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,a,t,l,r)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:a,scrollMargin:t,getItemKey:l,enabled:r}),{key:!1}),this.getMeasurements=me(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:a,scrollMargin:t,getItemKey:l,enabled:r},n)=>{if(!r)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(u=>{this.itemSizeCache.set(u.key,u.size)}));const p=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const v=this.measurementsCache.slice(0,p);for(let u=p;u<e;u++){const d=l(u),c=this.options.lanes===1?v[u-1]:this.getFurthestMeasurement(v,u),S=c?c.end+this.options.gap:a+t,L=n.get(d),F=typeof L=="number"?L:this.options.estimateSize(u),Y=S+F,G=c?c.lane:u%this.options.lanes;v[u]={index:u,start:S,size:F,end:Y,key:d,lane:G}}return this.measurementsCache=v,v},{key:!1,debug:()=>this.options.debug}),this.calculateRange=me(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(e,a,t)=>this.range=e.length>0&&a>0?uo({measurements:e,outerSize:a,scrollOffset:t}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=me(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(e,a,t,l)=>a===null?[]:e({startIndex:a.startIndex,endIndex:a.endIndex,overscan:t,count:l}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const a=this.options.indexAttribute,t=e.getAttribute(a);return t?parseInt(t,10):(console.warn(`Missing attribute name '${a}={index}' on measured element.`),-1)},this._measureElement=(e,a)=>{const t=this.indexFromElement(e),l=this.measurementsCache[t];if(!l)return;const r=l.key,n=this.elementsCache.get(r);n!==e&&(n&&this.observer.unobserve(n),this.observer.observe(e),this.elementsCache.set(r,e)),e.isConnected&&this.resizeItem(t,this.options.measureElement(e,a,this))},this.resizeItem=(e,a)=>{const t=this.measurementsCache[e];if(!t)return;const l=this.itemSizeCache.get(t.key)??t.size,r=a-l;r!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(t,r,this):t.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=r,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(t.index),this.itemSizeCache=new Map(this.itemSizeCache.set(t.key,a)),this.notify(!1))},this.measureElement=e=>{if(!e){this.elementsCache.forEach((a,t)=>{a.isConnected||(this.observer.unobserve(a),this.elementsCache.delete(t))});return}this._measureElement(e,void 0)},this.getVirtualItems=me(()=>[this.getIndexes(),this.getMeasurements()],(e,a)=>{const t=[];for(let l=0,r=e.length;l<r;l++){const n=e[l],p=a[n];t.push(p)}return t},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const a=this.getMeasurements();if(a.length!==0)return Le(a[rt(0,a.length-1,t=>Le(a[t]).start,e)])},this.getOffsetForAlignment=(e,a)=>{const t=this.getSize(),l=this.getScrollOffset();a==="auto"&&(e<=l?a="start":e>=l+t?a="end":a="start"),a==="start"?e=e:a==="end"?e=e-t:a==="center"&&(e=e-t/2);const r=this.options.horizontal?"scrollWidth":"scrollHeight",p=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[r]:this.scrollElement[r]:0)-t;return Math.max(Math.min(p,e),0)},this.getOffsetForIndex=(e,a="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const t=this.measurementsCache[e];if(!t)return;const l=this.getSize(),r=this.getScrollOffset();if(a==="auto")if(t.end>=r+l-this.options.scrollPaddingEnd)a="end";else if(t.start<=r+this.options.scrollPaddingStart)a="start";else return[r,a];const n=a==="end"?t.end+this.options.scrollPaddingEnd:t.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(n,a),a]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(e,{align:a="start",behavior:t}={})=>{this.cancelScrollToIndex(),t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,a),{adjustments:void 0,behavior:t})},this.scrollToIndex=(e,{align:a="auto",behavior:t}={})=>{e=Math.max(0,Math.min(e,this.options.count-1)),this.cancelScrollToIndex(),t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const l=this.getOffsetForIndex(e,a);if(!l)return;const[r,n]=l;this._scrollToOffset(r,{adjustments:void 0,behavior:t}),t!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(e))){const[v]=Le(this.getOffsetForIndex(e,n));Xt(v,this.getScrollOffset())||this.scrollToIndex(e,{align:n,behavior:t})}else this.scrollToIndex(e,{align:n,behavior:t})}))},this.scrollBy=(e,{behavior:a}={})=>{this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:a})},this.getTotalSize=()=>{var e;const a=this.getMeasurements();let t;return a.length===0?t=this.options.paddingStart:t=this.options.lanes===1?((e=a[a.length-1])==null?void 0:e.end)??0:Math.max(...a.slice(-this.options.lanes).map(l=>l.end)),Math.max(t-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:a,behavior:t})=>{this.options.scrollToFn(e,{behavior:t,adjustments:a},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(s)}}const rt=(o,s,e,a)=>{for(;o<=s;){const t=(o+s)/2|0,l=e(t);if(l<a)o=t+1;else if(l>a)s=t-1;else return t}return o>0?o-1:0};function uo({measurements:o,outerSize:s,scrollOffset:e}){const a=o.length-1,l=rt(0,a,n=>o[n].start,e);let r=l;for(;r<a&&o[r].end<e+s;)r++;return{startIndex:l,endIndex:r}}function co(o){const s=new io(b(o)),e=Ye(s),a=s._didMount();return X(()=>b(o).getScrollElement(),t=>{t&&s._willUpdate()},{immediate:!0}),X(()=>b(o),t=>{s.setOptions({...t,onChange:(l,r)=>{var n;Fe(e),(n=t.onChange)==null||n.call(t,l,r)}}),s._willUpdate(),Fe(e)},{immediate:!0}),yt(a),e}function fo(o){return co(V(()=>({observeElementRect:no,observeElementOffset:lo,scrollToFn:so,...b(o)})))}function po(o,s,e){let a=_(e==null?void 0:e.value),t=V(()=>o.value!==void 0);return[V(()=>t.value?o.value:a.value),function(l){return t.value||(a.value=l),s==null?void 0:s(l)}]}function vo(){let o=Ve();return Je(()=>o.dispose()),o}function mo(){let o=vo();return s=>{o.dispose(),o.nextFrame(s)}}function Be(o){return[o.screenX,o.screenY]}function go(){let o=_([-1,-1]);return{wasMoved(s){let e=Be(s);return o.value[0]===e[0]&&o.value[1]===e[1]?!1:(o.value=e,!0)},update(s){o.value=Be(s)}}}function ho({container:o,accept:s,walk:e,enabled:a}){Se(()=>{let t=o.value;if(!t||a!==void 0&&!a.value)return;let l=nt(o);if(!l)return;let r=Object.assign(p=>s(p),{acceptNode:s}),n=l.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,r,!1);for(;n.nextNode();)e(n.currentNode)})}var st=(o=>(o[o.Left=0]="Left",o[o.Right=2]="Right",o))(st||{});function bo(o){throw new Error("Unexpected object: "+o)}var Z=(o=>(o[o.First=0]="First",o[o.Previous=1]="Previous",o[o.Next=2]="Next",o[o.Last=3]="Last",o[o.Specific=4]="Specific",o[o.Nothing=5]="Nothing",o))(Z||{});function je(o,s){let e=s.resolveItems();if(e.length<=0)return null;let a=s.resolveActiveIndex(),t=a??-1;switch(o.focus){case 0:{for(let l=0;l<e.length;++l)if(!s.resolveDisabled(e[l],l,e))return l;return a}case 1:{t===-1&&(t=e.length);for(let l=t-1;l>=0;--l)if(!s.resolveDisabled(e[l],l,e))return l;return a}case 2:{for(let l=t+1;l<e.length;++l)if(!s.resolveDisabled(e[l],l,e))return l;return a}case 3:{for(let l=e.length-1;l>=0;--l)if(!s.resolveDisabled(e[l],l,e))return l;return a}case 4:{for(let l=0;l<e.length;++l)if(s.resolveId(e[l],l,e)===o.id)return l;return a}case 5:return null;default:bo(o)}}function it(o={},s=null,e=[]){for(let[a,t]of Object.entries(o))dt(e,ut(s,a),t);return e}function ut(o,s){return o?o+"["+s+"]":s}function dt(o,s,e){if(Array.isArray(e))for(let[a,t]of e.entries())dt(o,ut(s,a.toString()),t);else e instanceof Date?o.push([s,e.toISOString()]):typeof e=="boolean"?o.push([s,e?"1":"0"]):typeof e=="string"?o.push([s,e]):typeof e=="number"?o.push([s,`${e}`]):e==null?o.push([s,""]):it(e,s,o)}var xo={};function yo(o,s){return o===s}var So=(o=>(o[o.Open=0]="Open",o[o.Closed=1]="Closed",o))(So||{}),ko=(o=>(o[o.Single=0]="Single",o[o.Multi=1]="Multi",o))(ko||{}),wo=(o=>(o[o.Pointer=0]="Pointer",o[o.Focus=1]="Focus",o[o.Other=2]="Other",o))(wo||{});let ct=Symbol("ComboboxContext");function be(o){let s=et(ct,null);if(s===null){let e=new Error(`<${o} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(e,be),e}return s}let ft=Symbol("VirtualContext"),_o=se({name:"VirtualProvider",setup(o,{slots:s}){let e=be("VirtualProvider"),a=V(()=>{let n=j(e.optionsRef);if(!n)return{start:0,end:0};let p=window.getComputedStyle(n);return{start:parseFloat(p.paddingBlockStart||p.paddingTop),end:parseFloat(p.paddingBlockEnd||p.paddingBottom)}}),t=fo(V(()=>({scrollPaddingStart:a.value.start,scrollPaddingEnd:a.value.end,count:e.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return j(e.optionsRef)},overscan:12}))),l=V(()=>{var n;return(n=e.virtual.value)==null?void 0:n.options}),r=_(0);return X([l],()=>{r.value+=1}),Xe(ft,e.virtual.value?t:null),()=>[Ie("div",{style:{position:"relative",width:"100%",height:`${t.value.getTotalSize()}px`},ref:n=>{if(n){if(typeof process<"u"&&xo.JEST_WORKER_ID!==void 0||e.activationTrigger.value===0)return;e.activeOptionIndex.value!==null&&e.virtual.value.options.length>e.activeOptionIndex.value&&t.value.scrollToIndex(e.activeOptionIndex.value)}}},t.value.getVirtualItems().map(n=>kt(s.default({option:e.virtual.value.options[n.index],open:e.comboboxState.value===0})[0],{key:`${r.value}-${n.index}`,"data-index":n.index,"aria-setsize":e.virtual.value.options.length,"aria-posinset":n.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${n.start}px)`,overflowAnchor:"none"}})))]}}),Do=se({name:"Combobox",emits:{"update:modelValue":o=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(o,{slots:s,attrs:e,emit:a}){let t=_(1),l=_(null),r=_(null),n=_(null),p=_(null),v=_({static:!1,hold:!1}),u=_([]),d=_(null),c=_(2),S=_(!1);function L(f=x=>x){let x=d.value!==null?u.value[d.value]:null,T=f(u.value.slice()),E=T.length>0&&T[0].dataRef.order.value!==null?T.sort((N,R)=>N.dataRef.order.value-R.dataRef.order.value):Rt(T,N=>j(N.dataRef.domRef)),z=x?E.indexOf(x):null;return z===-1&&(z=null),{options:E,activeOptionIndex:z}}let F=V(()=>o.multiple?1:0),Y=V(()=>o.nullable),[G,O]=po(V(()=>o.modelValue),f=>a("update:modelValue",f),V(()=>o.defaultValue)),B=V(()=>G.value===void 0?ge(F.value,{1:[],0:void 0}):G.value),Q=null,k=null;function A(f){return ge(F.value,{0(){return O==null?void 0:O(f)},1:()=>{let x=ie(m.value.value).slice(),T=ie(f),E=x.findIndex(z=>m.compare(T,ie(z)));return E===-1?x.push(T):x.splice(E,1),O==null?void 0:O(x)}})}let P=V(()=>{});X([P],([f],[x])=>{if(m.virtual.value&&f&&x&&d.value!==null){let T=f.indexOf(x[d.value]);T!==-1?d.value=T:d.value=null}});let m={comboboxState:t,value:B,mode:F,compare(f,x){if(typeof o.by=="string"){let T=o.by;return(f==null?void 0:f[T])===(x==null?void 0:x[T])}return o.by===null?yo(f,x):o.by(f,x)},calculateIndex(f){return m.virtual.value?o.by===null?m.virtual.value.options.indexOf(f):m.virtual.value.options.findIndex(x=>m.compare(x,f)):u.value.findIndex(x=>m.compare(x.dataRef.value,f))},defaultValue:V(()=>o.defaultValue),nullable:Y,immediate:V(()=>!1),virtual:V(()=>null),inputRef:r,labelRef:l,buttonRef:n,optionsRef:p,disabled:V(()=>o.disabled),options:u,change(f){O(f)},activeOptionIndex:V(()=>{if(S.value&&d.value===null&&(m.virtual.value?m.virtual.value.options.length>0:u.value.length>0)){if(m.virtual.value){let x=m.virtual.value.options.findIndex(T=>{var E;return!((E=m.virtual.value)!=null&&E.disabled(T))});if(x!==-1)return x}let f=u.value.findIndex(x=>!x.dataRef.disabled);if(f!==-1)return f}return d.value}),activationTrigger:c,optionsPropsRef:v,closeCombobox(){S.value=!1,!o.disabled&&t.value!==1&&(t.value=1,d.value=null)},openCombobox(){if(S.value=!0,!o.disabled&&t.value!==0){if(m.value.value){let f=m.calculateIndex(m.value.value);f!==-1&&(d.value=f)}t.value=0}},setActivationTrigger(f){c.value=f},goToOption(f,x,T){S.value=!1,Q!==null&&cancelAnimationFrame(Q),Q=requestAnimationFrame(()=>{if(o.disabled||p.value&&!v.value.static&&t.value===1)return;if(m.virtual.value){d.value=f===Z.Specific?x:je({focus:f},{resolveItems:()=>m.virtual.value.options,resolveActiveIndex:()=>{var N,R;return(R=(N=m.activeOptionIndex.value)!=null?N:m.virtual.value.options.findIndex(g=>{var W;return!((W=m.virtual.value)!=null&&W.disabled(g))}))!=null?R:null},resolveDisabled:N=>m.virtual.value.disabled(N),resolveId(){throw new Error("Function not implemented.")}}),c.value=T??2;return}let E=L();if(E.activeOptionIndex===null){let N=E.options.findIndex(R=>!R.dataRef.disabled);N!==-1&&(E.activeOptionIndex=N)}let z=f===Z.Specific?x:je({focus:f},{resolveItems:()=>E.options,resolveActiveIndex:()=>E.activeOptionIndex,resolveId:N=>N.id,resolveDisabled:N=>N.dataRef.disabled});d.value=z,c.value=T??2,u.value=E.options})},selectOption(f){let x=u.value.find(E=>E.id===f);if(!x)return;let{dataRef:T}=x;A(T.value)},selectActiveOption(){if(m.activeOptionIndex.value!==null){if(m.virtual.value)A(m.virtual.value.options[m.activeOptionIndex.value]);else{let{dataRef:f}=u.value[m.activeOptionIndex.value];A(f.value)}m.goToOption(Z.Specific,m.activeOptionIndex.value)}},registerOption(f,x){let T=St({id:f,dataRef:x});if(m.virtual.value){u.value.push(T);return}k&&cancelAnimationFrame(k);let E=L(z=>(z.push(T),z));d.value===null&&m.isSelected(x.value.value)&&(E.activeOptionIndex=E.options.indexOf(T)),u.value=E.options,d.value=E.activeOptionIndex,c.value=2,E.options.some(z=>!j(z.dataRef.domRef))&&(k=requestAnimationFrame(()=>{let z=L();u.value=z.options,d.value=z.activeOptionIndex}))},unregisterOption(f,x){if(Q!==null&&cancelAnimationFrame(Q),x&&(S.value=!0),m.virtual.value){u.value=u.value.filter(E=>E.id!==f);return}let T=L(E=>{let z=E.findIndex(N=>N.id===f);return z!==-1&&E.splice(z,1),E});u.value=T.options,d.value=T.activeOptionIndex,c.value=2},isSelected(f){return ge(F.value,{0:()=>m.compare(ie(m.value.value),ie(f)),1:()=>ie(m.value.value).some(x=>m.compare(ie(x),ie(f)))})},isActive(f){return d.value===m.calculateIndex(f)}};Tt([r,n,p],()=>m.closeCombobox(),V(()=>t.value===0)),Xe(ct,m),$t(V(()=>ge(t.value,{0:Oe.Open,1:Oe.Closed})));let $=V(()=>{var f;return(f=j(r))==null?void 0:f.closest("form")});return Ce(()=>{X([$],()=>{if(!$.value||o.defaultValue===void 0)return;function f(){m.change(o.defaultValue)}return $.value.addEventListener("reset",f),()=>{var x;(x=$.value)==null||x.removeEventListener("reset",f)}},{immediate:!0})}),()=>{var f,x,T;let{name:E,disabled:z,form:N,...R}=o,g={open:t.value===0,disabled:z,activeIndex:m.activeOptionIndex.value,activeOption:m.activeOptionIndex.value===null?null:m.virtual.value?m.virtual.value.options[(f=m.activeOptionIndex.value)!=null?f:0]:(T=(x=m.options.value[m.activeOptionIndex.value])==null?void 0:x.dataRef.value)!=null?T:null,value:B.value};return Ie(he,[...E!=null&&B.value!=null?it({[E]:B.value}).map(([W,ee])=>Ie(Ct,Ft({features:Et.Hidden,key:W,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:N,disabled:z,name:W,value:ee}))):[],ke({theirProps:{...e,...Me(R,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:g,slots:s,attrs:e,name:"Combobox"})])}}}),Io=se({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(o,{attrs:s,slots:e,expose:a}){var t;let l=(t=o.id)!=null?t:`headlessui-combobox-button-${Ee()}`,r=be("ComboboxButton");a({el:r.buttonRef,$el:r.buttonRef});function n(u){r.disabled.value||(r.comboboxState.value===0?r.closeCombobox():(u.preventDefault(),r.openCombobox()),fe(()=>{var d;return(d=j(r.inputRef))==null?void 0:d.focus({preventScroll:!0})}))}function p(u){switch(u.key){case te.ArrowDown:u.preventDefault(),u.stopPropagation(),r.comboboxState.value===1&&r.openCombobox(),fe(()=>{var d;return(d=r.inputRef.value)==null?void 0:d.focus({preventScroll:!0})});return;case te.ArrowUp:u.preventDefault(),u.stopPropagation(),r.comboboxState.value===1&&(r.openCombobox(),fe(()=>{r.value.value||r.goToOption(Z.Last)})),fe(()=>{var d;return(d=r.inputRef.value)==null?void 0:d.focus({preventScroll:!0})});return;case te.Escape:if(r.comboboxState.value!==0)return;u.preventDefault(),r.optionsRef.value&&!r.optionsPropsRef.value.static&&u.stopPropagation(),r.closeCombobox(),fe(()=>{var d;return(d=r.inputRef.value)==null?void 0:d.focus({preventScroll:!0})});return}}let v=Pt(V(()=>({as:o.as,type:s.type})),r.buttonRef);return()=>{var u,d;let c={open:r.comboboxState.value===0,disabled:r.disabled.value,value:r.value.value},{...S}=o,L={ref:r.buttonRef,id:l,type:v.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(u=j(r.optionsRef))==null?void 0:u.id,"aria-expanded":r.comboboxState.value===0,"aria-labelledby":r.labelRef.value?[(d=j(r.labelRef))==null?void 0:d.id,l].join(" "):void 0,disabled:r.disabled.value===!0?!0:void 0,onKeydown:p,onClick:n};return ke({ourProps:L,theirProps:S,slot:c,attrs:s,slots:e,name:"ComboboxButton"})}}}),Oo=se({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:o=>!0},setup(o,{emit:s,attrs:e,slots:a,expose:t}){var l;let r=(l=o.id)!=null?l:`headlessui-combobox-input-${Ee()}`,n=be("ComboboxInput"),p=V(()=>nt(j(n.inputRef))),v={value:!1};t({el:n.inputRef,$el:n.inputRef});function u(){n.change(null);let k=j(n.optionsRef);k&&(k.scrollTop=0),n.goToOption(Z.Nothing)}let d=V(()=>{var k;let A=n.value.value;return j(n.inputRef)?typeof o.displayValue<"u"&&A!==void 0?(k=o.displayValue(A))!=null?k:"":typeof A=="string"?A:"":""});Ce(()=>{X([d,n.comboboxState,p],([k,A],[P,m])=>{if(v.value)return;let $=j(n.inputRef);$&&((m===0&&A===1||k!==P)&&($.value=k),requestAnimationFrame(()=>{var f;if(v.value||!$||((f=p.value)==null?void 0:f.activeElement)!==$)return;let{selectionStart:x,selectionEnd:T}=$;Math.abs((T??0)-(x??0))===0&&x===0&&$.setSelectionRange($.value.length,$.value.length)}))},{immediate:!0}),X([n.comboboxState],([k],[A])=>{if(k===0&&A===1){if(v.value)return;let P=j(n.inputRef);if(!P)return;let m=P.value,{selectionStart:$,selectionEnd:f,selectionDirection:x}=P;P.value="",P.value=m,x!==null?P.setSelectionRange($,f,x):P.setSelectionRange($,f)}})});let c=_(!1);function S(){c.value=!0}function L(){Ve().nextFrame(()=>{c.value=!1})}let F=mo();function Y(k){switch(v.value=!0,F(()=>{v.value=!1}),k.key){case te.Enter:if(v.value=!1,n.comboboxState.value!==0||c.value)return;if(k.preventDefault(),k.stopPropagation(),n.activeOptionIndex.value===null){n.closeCombobox();return}n.selectActiveOption(),n.mode.value===0&&n.closeCombobox();break;case te.ArrowDown:return v.value=!1,k.preventDefault(),k.stopPropagation(),ge(n.comboboxState.value,{0:()=>n.goToOption(Z.Next),1:()=>n.openCombobox()});case te.ArrowUp:return v.value=!1,k.preventDefault(),k.stopPropagation(),ge(n.comboboxState.value,{0:()=>n.goToOption(Z.Previous),1:()=>{n.openCombobox(),fe(()=>{n.value.value||n.goToOption(Z.Last)})}});case te.Home:if(k.shiftKey)break;return v.value=!1,k.preventDefault(),k.stopPropagation(),n.goToOption(Z.First);case te.PageUp:return v.value=!1,k.preventDefault(),k.stopPropagation(),n.goToOption(Z.First);case te.End:if(k.shiftKey)break;return v.value=!1,k.preventDefault(),k.stopPropagation(),n.goToOption(Z.Last);case te.PageDown:return v.value=!1,k.preventDefault(),k.stopPropagation(),n.goToOption(Z.Last);case te.Escape:if(v.value=!1,n.comboboxState.value!==0)return;k.preventDefault(),n.optionsRef.value&&!n.optionsPropsRef.value.static&&k.stopPropagation(),n.nullable.value&&n.mode.value===0&&n.value.value===null&&u(),n.closeCombobox();break;case te.Tab:if(v.value=!1,n.comboboxState.value!==0)return;n.mode.value===0&&n.activationTrigger.value!==1&&n.selectActiveOption(),n.closeCombobox();break}}function G(k){s("change",k),n.nullable.value&&n.mode.value===0&&k.target.value===""&&u(),n.openCombobox()}function O(k){var A,P,m;let $=(A=k.relatedTarget)!=null?A:Ae.find(f=>f!==k.currentTarget);if(v.value=!1,!((P=j(n.optionsRef))!=null&&P.contains($))&&!((m=j(n.buttonRef))!=null&&m.contains($))&&n.comboboxState.value===0)return k.preventDefault(),n.mode.value===0&&(n.nullable.value&&n.value.value===null?u():n.activationTrigger.value!==1&&n.selectActiveOption()),n.closeCombobox()}function B(k){var A,P,m;let $=(A=k.relatedTarget)!=null?A:Ae.find(f=>f!==k.currentTarget);(P=j(n.buttonRef))!=null&&P.contains($)||(m=j(n.optionsRef))!=null&&m.contains($)||n.disabled.value||n.immediate.value&&n.comboboxState.value!==0&&(n.openCombobox(),Ve().nextFrame(()=>{n.setActivationTrigger(1)}))}let Q=V(()=>{var k,A,P,m;return(m=(P=(A=o.defaultValue)!=null?A:n.defaultValue.value!==void 0?(k=o.displayValue)==null?void 0:k.call(o,n.defaultValue.value):null)!=null?P:n.defaultValue.value)!=null?m:""});return()=>{var k,A,P,m,$,f,x;let T={open:n.comboboxState.value===0},{displayValue:E,onChange:z,...N}=o,R={"aria-controls":(k=n.optionsRef.value)==null?void 0:k.id,"aria-expanded":n.comboboxState.value===0,"aria-activedescendant":n.activeOptionIndex.value===null?void 0:n.virtual.value?(A=n.options.value.find(g=>!n.virtual.value.disabled(g.dataRef.value)&&n.compare(g.dataRef.value,n.virtual.value.options[n.activeOptionIndex.value])))==null?void 0:A.id:(P=n.options.value[n.activeOptionIndex.value])==null?void 0:P.id,"aria-labelledby":(f=(m=j(n.labelRef))==null?void 0:m.id)!=null?f:($=j(n.buttonRef))==null?void 0:$.id,"aria-autocomplete":"list",id:r,onCompositionstart:S,onCompositionend:L,onKeydown:Y,onInput:G,onFocus:B,onBlur:O,role:"combobox",type:(x=e.type)!=null?x:"text",tabIndex:0,ref:n.inputRef,defaultValue:Q.value,disabled:n.disabled.value===!0?!0:void 0};return ke({ourProps:R,theirProps:N,slot:T,attrs:e,slots:a,features:Te.RenderStrategy|Te.Static,name:"ComboboxInput"})}}}),To=se({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(o,{attrs:s,slots:e,expose:a}){let t=be("ComboboxOptions"),l=`headlessui-combobox-options-${Ee()}`;a({el:t.optionsRef,$el:t.optionsRef}),Se(()=>{t.optionsPropsRef.value.static=o.static}),Se(()=>{t.optionsPropsRef.value.hold=o.hold});let r=At(),n=V(()=>r!==null?(r.value&Oe.Open)===Oe.Open:t.comboboxState.value===0);ho({container:V(()=>j(t.optionsRef)),enabled:V(()=>t.comboboxState.value===0),accept(v){return v.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:v.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(v){v.setAttribute("role","none")}});function p(v){v.preventDefault()}return()=>{var v,u,d;let c={open:t.comboboxState.value===0},S={"aria-labelledby":(d=(v=j(t.labelRef))==null?void 0:v.id)!=null?d:(u=j(t.buttonRef))==null?void 0:u.id,id:l,ref:t.optionsRef,role:"listbox","aria-multiselectable":t.mode.value===1?!0:void 0,onMousedown:p},L=Me(o,["hold"]);return ke({ourProps:S,theirProps:L,slot:c,attrs:s,slots:t.virtual.value&&t.comboboxState.value===0?{...e,default:()=>[Ie(_o,{},e.default)]}:e,features:Te.RenderStrategy|Te.Static,visible:n.value,name:"ComboboxOptions"})}}}),We=se({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(o,{slots:s,attrs:e,expose:a}){let t=be("ComboboxOption"),l=`headlessui-combobox-option-${Ee()}`,r=_(null),n=V(()=>o.disabled);a({el:r,$el:r});let p=V(()=>{var O;return t.virtual.value?t.activeOptionIndex.value===t.calculateIndex(o.value):t.activeOptionIndex.value===null?!1:((O=t.options.value[t.activeOptionIndex.value])==null?void 0:O.id)===l}),v=V(()=>t.isSelected(o.value)),u=et(ft,null),d=V(()=>({disabled:o.disabled,value:o.value,domRef:r,order:V(()=>o.order)}));Ce(()=>t.registerOption(l,d)),Je(()=>t.unregisterOption(l,p.value)),Se(()=>{let O=j(r);O&&(u==null||u.value.measureElement(O))}),Se(()=>{t.comboboxState.value===0&&p.value&&(t.virtual.value||t.activationTrigger.value!==0&&fe(()=>{var O,B;return(B=(O=j(r))==null?void 0:O.scrollIntoView)==null?void 0:B.call(O,{block:"nearest"})}))});function c(O){O.preventDefault(),O.button===st.Left&&(n.value||(t.selectOption(l),Lt()||requestAnimationFrame(()=>{var B;return(B=j(t.inputRef))==null?void 0:B.focus({preventScroll:!0})}),t.mode.value===0&&t.closeCombobox()))}function S(){var O;if(o.disabled||(O=t.virtual.value)!=null&&O.disabled(o.value))return t.goToOption(Z.Nothing);let B=t.calculateIndex(o.value);t.goToOption(Z.Specific,B)}let L=go();function F(O){L.update(O)}function Y(O){var B;if(!L.wasMoved(O)||o.disabled||(B=t.virtual.value)!=null&&B.disabled(o.value)||p.value)return;let Q=t.calculateIndex(o.value);t.goToOption(Z.Specific,Q,0)}function G(O){var B;L.wasMoved(O)&&(o.disabled||(B=t.virtual.value)!=null&&B.disabled(o.value)||p.value&&(t.optionsPropsRef.value.hold||t.goToOption(Z.Nothing)))}return()=>{let{disabled:O}=o,B={active:p.value,selected:v.value,disabled:O},Q={id:l,ref:r,role:"option",tabIndex:O===!0?void 0:-1,"aria-disabled":O===!0?!0:void 0,"aria-selected":v.value,disabled:void 0,onMousedown:c,onFocus:S,onPointerenter:F,onMouseenter:F,onPointermove:Y,onMousemove:Y,onPointerleave:G,onMouseleave:G},k=Me(o,["order","value"]);return ke({ourProps:Q,theirProps:k,slot:B,attrs:e,slots:s,name:"ComboboxOption"})}}});function Co(o,s){return M(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[I("path",{"fill-rule":"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z","clip-rule":"evenodd"})])}function Eo(o,s){return M(),H("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[I("path",{"fill-rule":"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z","clip-rule":"evenodd"})])}const Ro={class:"relative mt-1 z-50"},Lo={class:"relative w-full cursor-default text-left sm:text-sm"},Vo={key:0,class:"relative cursor-default select-none py-2 px-4 text-gray-700"},Mo={key:1,class:"relative cursor-default select-none py-2 px-4 text-gray-700"},$o={key:2,class:"relative cursor-default select-none py-2 px-4 text-gray-700"},Fo={__name:"Combobox",props:{modelValue:Object,options:{type:Array,default:()=>[]},loadOptions:Function,createOption:Function},emits:["update:modelValue"],setup(o,{emit:s}){const e=s,a=o,t=_(a.options),l=_(!1),r=V(()=>n.value===""?null:{missing:!0,label:n.value});let n=_("");X(n,u=>{a.loadOptions&&(l.value=!0,a.loadOptions(u,d=>{t.value=d,a.modelValue&&!t.value.some(c=>{var S;return c.value===((S=a.modelValue)==null?void 0:S.value)})&&t.value.unshift(a.modelValue),l.value=!1}))},{immediate:!0});let p=V(()=>n.value===""?t.value:t.value.filter(u=>u.label.toLowerCase().replace(/\s+/g,"").includes(n.value.toLowerCase().replace(/\s+/g,""))));function v(u){e("update:modelValue",u)}return(u,d)=>(M(),ae(b(Do),{by:"value","model-value":a.modelValue,"onUpdate:modelValue":v},{default:D(()=>[I("div",Ro,[I("div",Lo,[y(b(Oo),{class:"border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm w-full py-2 px-2 border outline-indigo-500 dark:outline-none",displayValue:c=>c.label,onChange:d[0]||(d[0]=c=>ne(n)?n.value=c.target.value:n=c.target.value)},null,8,["displayValue"]),y(b(Io),{class:"absolute inset-y-0 right-0 flex items-center pr-2"},{default:D(()=>[y(b(Eo),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})]),_:1})]),y(b(Vt),{leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",onAfterLeave:d[1]||(d[1]=c=>ne(n)?n.value="":n="")},{default:D(()=>[y(b(To),{class:"absolute z-[9999] mt-1 max-h-36 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:D(()=>[b(p).length===0&&!l.value&&!r.value&&!a.createOption?(M(),H("div",Vo," Nothing found. ")):le("",!0),b(n).length<4?(M(),H("div",Mo," Please enter more than 4 characters ")):le("",!0),l.value&&b(n).length>=4?(M(),H("div",$o," Loading... ")):le("",!0),l.value?le("",!0):(M(),H(he,{key:3},[r.value&&!b(p).length&&a.createOption?(M(),ae(b(We),{key:0,as:"template",value:r.value},{default:D(({active:c})=>[I("li",{class:de(["relative cursor-pointer select-none py-2 pl-10 pr-4",{"bg-indigo-600 text-white":c,"text-gray-900":!c}])}," No User Found ",2)]),_:1},8,["value"])):le("",!0),(M(!0),H(he,null,tt(b(p),c=>(M(),ae(b(We),{as:"template",key:c.value,value:c},{default:D(({selected:S,active:L})=>[I("li",{class:de(["relative cursor-pointer select-none py-2 pl-10 pr-4",{"bg-indigo-600 text-white":L,"text-gray-900":!L}])},[I("span",{class:de(["block truncate",{"font-medium":S,"font-normal":!S}])},re(c.label),3),S?(M(),H("span",{key:0,class:de(["absolute inset-y-0 left-0 flex items-center pl-3",{"text-white":L,"text-indigo-600":!L}])},[y(b(Co),{class:"h-5 w-5","aria-hidden":"true"})],2)):le("",!0)],2)]),_:2},1032,["value"]))),128))],64))]),_:1})]),_:1})])]),_:1},8,["model-value"]))}},Ao={__name:"ComboboxView",props:{sfdcAuthUser:{type:Object,default:()=>({value:"",label:""})},orgData:Object},setup(o,{emit:s}){const e=s,a=o;_();const t=_(a.sfdcAuthUser);async function l(v,u){if(v.length>=4)try{const c=(await p("User_QueryByName",v)).records.map(S=>({value:S.Id,label:S.Name}));u(c)}catch(d){console.error("Error loading users:",d)}}const r=zt(l,500);function n(v,u){console.log("do nothing")}X(t,()=>{t.value.value?e("userDataChanged",t.value):console.log("user not found")});const p=async(v,u)=>{var d;try{const c=await $fetch("/api/sfdc/hitSFAPI",{query:{sfdcAction:v,recordId:u}});return c!=null&&c.success?c.response?c.response:"apiSuccessNoResponse":(q("Auhentication failed, please re-authenticate.","Error"),((d=c.response)==null?void 0:d.errorCode)=="INVALID_SESSION_ID"?"authError":"unknownError")}catch(c){console.log("error --> "+c),q(c,"Error")}};return(v,u)=>(M(),ae(Fo,{"load-options":b(r),"create-option":n,modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=d=>t.value=d)},null,8,["load-options","modelValue"]))}},Po={class:"flex flex-col md:flex-row md:justify-between items-center space-y-4 md:space-y-0"},zo={class:"flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-4"},No={key:0},Uo={class:"text-center"},Bo={class:"p-6"},jo={class:"rounded-lg"},Wo={class:"flex mb-4"},qo={class:"w-1/2 mr-2"},Go={class:"w-1/2 mr-2"},Ho=["value"],Ko={class:"w-full mr-2"},Yo={class:de("mt-6 flex justify-center items-center")},Zo={key:0},Qo="StartDate",Jo="desc",Xo=se({__name:"TraceFlag",props:{orgData:Object},setup(o){const s=["TracedEntity.Name","StartDate","ExpirationDate"],e=_(""),a=[{text:"Traced Entity",value:"TracedEntity.Name"},{text:"Start Date",value:"StartDate",sortable:!0},{text:"Expiration Date",value:"ExpirationDate",sortable:!0},{text:"Debug Level",value:"DebugLevel.DeveloperName"},{text:"Actions",value:"Actions",width:200}],t=o,l=_(!1),r=_([]),n=_("USER_DEBUG"),p=_(30),v=_(ue(0,!1)),u=_(ue(p.value,!0)),d=_([]),c=_(""),S=_(""),L=_(""),F=_({id:"",name:"",username:"",instance_url:""}),Y=_({value:F.value.id,label:F.value.name}),G=_(!1);_(!1);const O=_(!1);_(!1);const B=async h=>{Y.value.value=h.id,Y.value.label=h.name},Q=async()=>{var i,w,C;const h=await Bt();if(h!=null&&h.getUserInfo&&((i=t.orgData)==null?void 0:i.instance_url)==((w=h==null?void 0:h.getUserInfo)==null?void 0:w.instance_url))return F.value=h==null?void 0:h.getUserInfo,B({id:F.value.id,name:F.value.name}),F.value;{const K=await oe("UserInfo",null,null,"GET");K!=null&&K.user_id&&(F.value={id:K.user_id,name:K.name,username:K.preferred_username,instance_url:((C=t.orgData)==null?void 0:C.instance_url)??""},B({id:K.user_id,name:K.name}),await jt({getUserInfo:F.value}))}return F.value},k=async()=>{const h=await oe("Tooling_Query_TraceFlag",null,null,"GET");h&&(r.value=h==null?void 0:h.records.map(i=>({...i,StartDate:ye(i.StartDate),ExpirationDate:ye(i.ExpirationDate),ExpirationDateUnformatted:i.ExpirationDate})))},A=async()=>{await Q(),pe()},P=async()=>{G.value=!0;const h=new Date(v.value).toISOString(),i=new Date(u.value).toISOString(),w={StartDate:h,ExpirationDate:i,TracedEntityId:L.value?L.value:F.value.id,DebugLevelId:c.value,LogType:"USER_DEBUG"};$(w)},m=async()=>{const h=await Q();if(!h)return;let i;S.value||(i=await x(!0));const w=new Date(ue(0,!1)).toISOString(),C=new Date(ue(p.value,!0)).toISOString(),K={StartDate:w,ExpirationDate:C,TracedEntityId:h.id,DebugLevelId:i??S.value,LogType:"USER_DEBUG"};$(K)},$=async h=>{const i=await oe("Tooling_Create_CreateTraceFlag",null,h,"POST");i&&Array.isArray(i)&&i.length>0?i[0].message=="This entity is already being traced by a trace flag with a start and expiration date that overlap this trace flag's start and expiration date.: Traced Entity ID"?q("This user trace flag is already set.","Error"):q(i[0].message,"Error"):(q("Trace Flag created successfully.","Success"),await k()),xe()},f=h=>{if(!Array.isArray(h))return null;const i=h.find(w=>(w==null?void 0:w.ApexCode)!==null&&(w==null?void 0:w.ApexProfiling)!==null&&(w==null?void 0:w.Database)!==null&&(w==null?void 0:w.ApexCode)&&(w==null?void 0:w.ApexProfiling)&&(w==null?void 0:w.Database)==="FINEST");return i||null},x=async h=>{const i=await oe("Tooling_Query_DebugLevel",null,null,"GET");if((i==null?void 0:i.size)==0)if(h){S.value="";const w=await T();return w&&(S.value=w.Id,c.value=w.Id),S.value}else return;else{d.value=i.records;const w=f(i.records);if(w)S.value=w.Id,c.value=w.Id;else if(h){S.value="";const C=await T();C&&(S.value=C.Id,c.value=C.Id)}return S.value}},T=async()=>{const h=new Date().getTime(),i={MasterLabel:"Finest_"+h,DeveloperName:"Finest_"+h,Language:"en_US",ApexCode:"FINEST",ApexProfiling:"FINEST",Callout:"FINEST",Database:"FINEST",System:"FINEST",Validation:"FINEST",Visualforce:"FINEST",Workflow:"FINEST",Wave:"FINEST",Nba:"FINE"},w=await oe("Tooling_Create_FinestDebugLevel",null,i,"POST");return w.success&&(w!=null&&w.id)?(q("Finest debug level has been created","Success"),{Id:w.id,DeveloperName:"Finest_"+h}):null},E=async h=>{const i=ue(0,!1);v.value=new Date(i).toISOString(),u.value=new Date(ue(p.value,!0)).toISOString();const w={StartDate:v.value,ExpirationDate:u.value},C=await oe("Tooling_Patch_RenewTraceFlag",h,w,"POST");if(C=="API_SUCCESS_NO_BODY"){if(C&&Array.isArray(C)&&C[0].errorCode=="FIELD_INTEGRITY_EXCEPTION"){q("This entity is already being traced by a trace flag with a start and expiration date that overlap this trace flag's start and expiration date.","Error");return}const K=ye(v.value),_e=ye(u.value);r.value.find(ve=>{ve.Id==h&&(ve.StartDate=K,ve.ExpirationDate=_e)}),q("Trace flag has been renewed successfully.","Success")}else q("Something has failed, please refresh the page","Error")},z=async h=>{const i=await oe("Tooling_Delete_TraceFlag",h,null,"POST");i=="API_SUCCESS_NO_BODY"?(r.value=r.value.filter(w=>w.Id!==h),q("Debug log deleted sucessfully.","Success")):i!=null&&i.errorCode?q("Error :"+(i==null?void 0:i.errorCode),"Error"):q("Something has failed","Error")},N=async()=>{O.value=!0,r.value.forEach(h=>{z(h.Id)}),O.value=!1},R=h=>new Date(h)<new Date,g=async()=>{let h=[];r.value.forEach(i=>{R(i.ExpirationDateUnformatted)&&h.push(i.Id)}),h.length>0?h.forEach(i=>{z(i)}):q("No expired trace flags found","Error")},W=()=>{v.value=ue()},ee=()=>{const h=ue(30,!0,new Date(u.value));u.value=h},pe=()=>{l.value=!0},xe=()=>{l.value=!1,G.value=!1},we=h=>{L.value=h.value},ce=async h=>{h&&(S.value="",await x(!1),await k())};return X(()=>t.orgData,async h=>{await ce(h)}),(h,i)=>{const w=qe,C=He,K=Ge,_e=Ke,ve=Jt,pt=Ao,Re=Ut,vt=ot;return M(),H(he,null,[y(w,{class:"font-semibold mt-8"},{default:D(()=>[U("User Trace Flags ("+re(b(r).length)+")",1)]),_:1}),I("div",Po,[y(De,{modelValue:b(e),"onUpdate:modelValue":i[0]||(i[0]=J=>ne(e)?e.value=J:null),type:"text",class:"my-2 sm:my-4 mr-4 !px-2 !py-1",placeholder:"Search traces.."},null,8,["modelValue"]),I("div",zo,[y(C,{onClick:A,class:"my-2 sm:my-4"},{default:D(()=>i[5]||(i[5]=[U("Create Trace Flag")])),_:1}),y(C,{onClick:m,class:"my-2 sm:my-4",title:"Creates current user trace flag for next 30 minutes"},{default:D(()=>i[6]||(i[6]=[U("1 Click Trace Flag ")])),_:1}),b(r).length>0?(M(),ae(C,{key:0,onClick:N,title:"Delete all trace flags.",isRed:!0,class:de({"opacity-70":b(O)})},{default:D(()=>[b(O)?(M(),ae(K,{key:1,cssStyle:"h-4 w-4 mr-2"},{default:D(()=>i[7]||(i[7]=[U("Creating Trace Flag")])),_:1})):(M(),H("p",No,"Delete All"))]),_:1},8,["class"])):le("",!0),b(r).length>0?(M(),ae(C,{key:1,onClick:g,title:"Delete all expired trace flags.",isRed:!0},{default:D(()=>i[8]||(i[8]=[U(" Delete Expired ")])),_:1})):le("",!0)]),i[9]||(i[9]=I("div",{class:"ml-auto"},null,-1))]),y(b(at),{headers:a,items:b(r),"search-field":s,"rows-per-page":3,"header-text-direction":"center","body-text-direction":"center","search-value":b(e),"sort-by":Qo,"sort-type":Jo,"no-hover":!0,"theme-color":"#312e3d","table-class-name":"tableCSS mb-8 rounded-lg border dark:border-gray-600 shadow-md"},{"empty-message":D(()=>i[10]||(i[10]=[])),loading:D(()=>[y(w,{class:"font-semibold my-4"},{default:D(()=>i[11]||(i[11]=[U("Data loading, please wait...")])),_:1})]),"item-Actions":D(({Id:J})=>[I("div",Uo,[y(_e,{icon:b(Wt),color:"green",onClick:mt=>E(J),class:"mr-2 my-2",title:"Renew Trace"},null,8,["icon","onClick"]),y(_e,{icon:b(lt),color:"red",onClick:mt=>z(J),class:"mr-2 my-2",title:"Delete Trace"},null,8,["icon","onClick"])])]),_:1},8,["items","search-value"]),y(vt,{show:b(l),onClose:xe,cssStyle:"mt-12"},{default:D(()=>[I("div",Bo,[i[22]||(i[22]=I("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Create new Trace Flag ",-1)),i[23]||(i[23]=I("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400 mb-4"}," This will set trace flag and capture debug logs for the set entity ",-1)),I("div",jo,[I("div",Wo,[I("div",qo,[y(w,{class:"mb-1"},{default:D(()=>i[12]||(i[12]=[U("Trace Entity Type")])),_:1}),y(ve,{modelValue:b(n),"onUpdate:modelValue":i[1]||(i[1]=J=>ne(n)?n.value=J:null)},{default:D(()=>i[13]||(i[13]=[I("option",{value:"USER_DEBUG"},"User Debug",-1),I("option",{value:"DEVELOPER_LOG",disabled:""},"Developer Log",-1),I("option",{value:"CLASS_TRACING",disabled:""},"Apex Tracing",-1)])),_:1},8,["modelValue"])]),I("div",Go,[y(w,{class:"mb-1"},{default:D(()=>i[14]||(i[14]=[U("Select Debug Level")])),_:1}),y(ve,{modelValue:b(c),"onUpdate:modelValue":i[2]||(i[2]=J=>ne(c)?c.value=J:null)},{default:D(()=>[(M(!0),H(he,null,tt(b(d),J=>(M(),H("option",{key:J.Id,value:J.Id},re(J.DeveloperName),9,Ho))),128))]),_:1},8,["modelValue"])])]),I("div",Ko,[y(w,{class:"mb-1"},{default:D(()=>i[15]||(i[15]=[U("Salesforce User")])),_:1}),y(pt,{class:"max-w-sm",sfdcAuthUser:b(Y),orgData:o.orgData,onUserDataChanged:we},null,8,["sfdcAuthUser","orgData"])]),y(w,{class:"mt-4 mb-1"},{default:D(()=>i[16]||(i[16]=[U("Start Date")])),_:1}),y(De,{modelValue:b(v),"onUpdate:modelValue":i[3]||(i[3]=J=>ne(v)?v.value=J:null),type:"datetime-local",class:"px-2 py-1",id:"startDate",required:""},null,8,["modelValue"]),y(Re,{onClick:W,class:"ml-4"},{default:D(()=>i[17]||(i[17]=[U("Set Current Date")])),_:1}),y(w,{class:"mt-4 mb-1"},{default:D(()=>i[18]||(i[18]=[U("Expiration Date")])),_:1}),y(De,{modelValue:b(u),"onUpdate:modelValue":i[4]||(i[4]=J=>ne(u)?u.value=J:null),type:"datetime-local",class:"px-2 py-1",id:"expirationDate",ref:"expirationInput",required:""},null,8,["modelValue"]),y(Re,{onClick:ee,class:"ml-4"},{default:D(()=>i[19]||(i[19]=[U("Increase by 30 Mins ")])),_:1})]),I("div",Yo,[y(Re,{onClick:xe},{default:D(()=>i[20]||(i[20]=[U("Cancel")])),_:1}),y(C,{onClick:P,class:de(["ml-3",{"opacity-70":b(O)}])},{default:D(()=>[b(G)?(M(),ae(K,{key:1,cssStyle:"h-4 w-4 mr-2"},{default:D(()=>i[21]||(i[21]=[U("Creating Trace Flag")])),_:1})):(M(),H("p",Zo,"Submit"))]),_:1},8,["class"])])])]),_:1},8,["show"])],64)}}}),en="vs",tn=!0,on=[{background:"ffffff",token:""},{foreground:"6a737d",token:"comment"},{foreground:"6a737d",token:"punctuation.definition.comment"},{foreground:"6a737d",token:"string.comment"},{foreground:"005cc5",token:"constant"},{foreground:"005cc5",token:"entity.name.constant"},{foreground:"005cc5",token:"variable.other.constant"},{foreground:"005cc5",token:"variable.language"},{foreground:"6f42c1",token:"entity"},{foreground:"6f42c1",token:"entity.name"},{foreground:"24292e",token:"variable.parameter.function"},{foreground:"22863a",token:"entity.name.tag"},{foreground:"d73a49",token:"keyword"},{foreground:"d73a49",token:"storage"},{foreground:"d73a49",token:"storage.type"},{foreground:"24292e",token:"storage.modifier.package"},{foreground:"24292e",token:"storage.modifier.import"},{foreground:"24292e",token:"storage.type.java"},{foreground:"032f62",token:"string"},{foreground:"032f62",token:"punctuation.definition.string"},{foreground:"032f62",token:"string punctuation.section.embedded source"},{foreground:"005cc5",token:"support"},{foreground:"005cc5",token:"meta.property-name"},{foreground:"e36209",token:"variable"},{foreground:"24292e",token:"variable.other"},{foreground:"b31d28",fontStyle:"bold italic underline",token:"invalid.broken"},{foreground:"b31d28",fontStyle:"bold italic underline",token:"invalid.deprecated"},{foreground:"fafbfc",background:"b31d28",fontStyle:"italic underline",token:"invalid.illegal"},{foreground:"fafbfc",background:"d73a49",fontStyle:"italic underline",token:"carriage-return"},{foreground:"b31d28",fontStyle:"bold italic underline",token:"invalid.unimplemented"},{foreground:"b31d28",token:"message.error"},{foreground:"24292e",token:"string source"},{foreground:"005cc5",token:"string variable"},{foreground:"032f62",token:"source.regexp"},{foreground:"032f62",token:"string.regexp"},{foreground:"032f62",token:"string.regexp.character-class"},{foreground:"032f62",token:"string.regexp constant.character.escape"},{foreground:"032f62",token:"string.regexp source.ruby.embedded"},{foreground:"032f62",token:"string.regexp string.regexp.arbitrary-repitition"},{foreground:"22863a",fontStyle:"bold",token:"string.regexp constant.character.escape"},{foreground:"005cc5",token:"support.constant"},{foreground:"005cc5",token:"support.variable"},{foreground:"005cc5",token:"meta.module-reference"},{foreground:"735c0f",token:"markup.list"},{foreground:"005cc5",fontStyle:"bold",token:"markup.heading"},{foreground:"005cc5",fontStyle:"bold",token:"markup.heading entity.name"},{foreground:"22863a",token:"markup.quote"},{foreground:"24292e",fontStyle:"italic",token:"markup.italic"},{foreground:"24292e",fontStyle:"bold",token:"markup.bold"},{foreground:"005cc5",token:"markup.raw"},{foreground:"b31d28",background:"ffeef0",token:"markup.deleted"},{foreground:"b31d28",background:"ffeef0",token:"meta.diff.header.from-file"},{foreground:"b31d28",background:"ffeef0",token:"punctuation.definition.deleted"},{foreground:"22863a",background:"f0fff4",token:"markup.inserted"},{foreground:"22863a",background:"f0fff4",token:"meta.diff.header.to-file"},{foreground:"22863a",background:"f0fff4",token:"punctuation.definition.inserted"},{foreground:"e36209",background:"ffebda",token:"markup.changed"},{foreground:"e36209",background:"ffebda",token:"punctuation.definition.changed"},{foreground:"f6f8fa",background:"005cc5",token:"markup.ignored"},{foreground:"f6f8fa",background:"005cc5",token:"markup.untracked"},{foreground:"6f42c1",fontStyle:"bold",token:"meta.diff.range"},{foreground:"005cc5",token:"meta.diff.header"},{foreground:"005cc5",fontStyle:"bold",token:"meta.separator"},{foreground:"005cc5",token:"meta.output"},{foreground:"586069",token:"brackethighlighter.tag"},{foreground:"586069",token:"brackethighlighter.curly"},{foreground:"586069",token:"brackethighlighter.round"},{foreground:"586069",token:"brackethighlighter.square"},{foreground:"586069",token:"brackethighlighter.angle"},{foreground:"586069",token:"brackethighlighter.quote"},{foreground:"b31d28",token:"brackethighlighter.unmatched"},{foreground:"b31d28",token:"sublimelinter.mark.error"},{foreground:"e36209",token:"sublimelinter.mark.warning"},{foreground:"959da5",token:"sublimelinter.gutter-mark"},{foreground:"032f62",fontStyle:"underline",token:"constant.other.reference.link"},{foreground:"032f62",fontStyle:"underline",token:"string.other.link"}],nn={"editor.foreground":"#24292e","editor.background":"#ffffff","editor.selectionBackground":"#c8c8fa","editor.inactiveSelectionBackground":"#fafbfc","editor.lineHighlightBackground":"#fafbfc","editorCursor.foreground":"#24292e","editorWhitespace.foreground":"#959da5","editorIndentGuide.background":"#959da5","editorIndentGuide.activeBackground":"#24292e","editor.selectionHighlightBorder":"#fafbfc"},an={base:en,inherit:tn,rules:on,colors:nn},ln=bt(Kt),rn={class:"flex justify-between"},sn={class:"flex flex-col"},un={class:"flex flex-col md:flex-row justify-between items-center space-y-2 md:space-y-0"},dn={class:"flex items-center"},cn={key:1},fn={key:1},pn={class:"text-center"},vn={key:0,class:"text-rose-500 font-semibold"},mn={key:1,class:"text-center"},gn={class:"text-center"},hn={class:"p-6 pt-4 bg-slate-200 dark:bg-gray-800"},bn={class:"flex justify-between items-center mb-4"},xn={class:"flex items-center justify-center"},yn={class:de("mt-6 flex justify-end")},Sn={class:"relative bg-white rounded-lg shadow dark:bg-gray-700"},kn={class:"p-4 pb-10 text-center"},wn=se({__name:"utility",setup(o){Gt({title:"Debug Utility | SFDC Developer Toolkit",ogTitle:"Debug Utility | SFDC Developer Toolkit",description:"You can manage your Salesforce orgs including adding new, deleting existing, and refreshing their auth tokens.",ogDescription:"You can manage your Salesforce orgs including adding new, deleting existing, and refreshing their auth tokens."});const s=Ze();s&&(s.editor.defineTheme("monokai",an),s.editor.setTheme("monokai"));const e=_(!1),a=_(!1);_(!1);const t=_(!1),l=_(""),r=_(""),n=_(""),p=_(!1),v=["LogUser.Name","Operation","Status","StartTime"],u=_(""),d=[{text:"User",value:"LogUser.Name",width:200},{text:"StartTime",value:"StartTime",sortable:!0,width:200},{text:"Operation",value:"Operation",width:400},{text:"Status",value:"Status",width:400},{text:"Actions",value:"Actions",width:200}],c=_(),S=_([]);_([]),_({id:"",name:"",username:"",instance_url:""});const L=async R=>{c.value=R,await F()!="error"},F=async()=>await Y(),Y=async()=>{const R=await oe("Tooling_Query_ApexLog",null,null,"GET");if(typeof R=="string"&&(R=="AUTH_ERROR"||R=="UNKNOWN_ERROR"))return"error";R.records.forEach(g=>{g.StartTime=ye(g.StartTime)}),S.value=R.records,S.value.length>0?q("Debug logs loaded.","Success"):q("No debug logs found.","Error")},G=async(R,g)=>{const W=await oe("Tooling_Query_ApexLogBody",R,null,"GET");l.value=W,r.value=R,g&&A()},O=async R=>{const g=await oe("Tooling_Delete_ApexLog",R,null,"GET");S.value=S.value.filter(W=>W.Id!==R),g=="apiSuccessNoResponse"?q("Debug log deleted sucessfully.","Success"):g!=null&&g.errorCode?q("Error :"+(g==null?void 0:g.errorCode),"Success"):q("Something has failed, please refresh the page","Success")},B=async()=>{N(),a.value=!0,S.value.length<198?await k():await Q(),a.value=!1},Q=async()=>{var R;try{const g=`Id
${S.value.map(ee=>ee.Id).join(`
`)}`,{data:W}=await ze("/api/sfdc/BulkAPI",{query:{},method:"POST",headers:{"Content-Type":"application/json"},body:{csv:g,object:"ApexLog",operation:"delete",contentType:"CSV",method:"DELETE"},server:!0},"$HowvrtL6z9");(R=W.value)!=null&&R.success?(q("Debug logs deleted successfully","Success"),S.value=[]):q("Something failed, please check dev console","Error")}catch(g){q("Something failed, please check dev console","Error"),console.log("catch block --> "+g)}},k=async()=>{var g;const R=S.value.map(W=>W.Id).join(",");try{const{data:W}=await ze("/api/sfdc/CompositeAPI",{query:{},method:"POST",headers:{"Content-Type":"application/json"},body:{queryParam:`sobjects?ids=${R}`,method:"DELETE"},server:!0},"$pqjwbALMdJ");(g=W.value)!=null&&g.success?(q("Debug logs deleted successfully","Success"),S.value=[]):(q("Some error occured, please check dev console","Error"),console.log("error data --> "+JSON.stringify(W.value)))}catch(W){console.log("catch block --> "+W)}},A=()=>{t.value=!0},P=()=>{t.value=!1,n.value="",p.value=!1},m={automaticLayout:!0,formatOnType:!0,formatOnPaste:!0,readOnly:!0,renderValidationDecorations:"off",scrollBeyondLastLine:!1,minimap:{enabled:!1},fontSize:12,padding:{top:20,bottom:20},scrollbar:{verticalScrollbarSize:5}},$=()=>{p.value=!p.value,p.value&&(n.value=Nt(l.value))},f=R=>{Dt({path:"/tools/debug/parser",query:{id:R}})},x=async R=>{l.value||await G(R,!1);const g=`${R}.log`,W=new Blob([l.value],{type:"text/plain"}),ee=document.createElement("a");ee.href=window.URL.createObjectURL(W),ee.download=g,ee.click()},T=async()=>{if(e.value=!0,await F()=="error"){e.value=!1;return}e.value=!1},E=_(!1),z=()=>{if(S.value.length==0){q("No records to delete","Error");return}else E.value=!0},N=()=>{E.value=!1};return(R,g)=>{const W=gt,ee=ht,pe=qe,xe=De,we=Ge,ce=He,h=Ke,i=ln,w=ot;return M(),H(he,null,[I("div",rn,[I("div",sn,[y(W,{class:"mb-2"},{default:D(()=>g[5]||(g[5]=[U("Debug Logs Utility")])),_:1}),y(ee,null,{default:D(()=>g[6]||(g[6]=[U("Manage debug logs with ease.")])),_:1})]),I("div",null,[y(Ot,{onDefaultOrgSelected:L})])]),y(Xo,{orgData:b(c)},null,8,["orgData"]),y(pe,{class:"font-semibold mt-4"},{default:D(()=>[U("Debug Logs ("+re(b(S).length)+")",1)]),_:1}),I("div",un,[I("div",dn,[y(xe,{modelValue:b(u),"onUpdate:modelValue":g[0]||(g[0]=C=>ne(u)?u.value=C:null),type:"text",class:"my-4 mr-4 !px-2 !py-1",placeholder:"Search logs.."},null,8,["modelValue"]),y(ce,{onClick:T,class:"my-4 mr-4",title:"Fetch fresh debug logs."},{default:D(()=>[b(e)?(M(),ae(we,{key:0,cssStyle:"h-4 w-4 mr-2"},{default:D(()=>g[7]||(g[7]=[U("Retrieving data...")])),_:1})):(M(),H("p",cn,"Refresh Debug Log List"))]),_:1}),y(ce,{onClick:z,title:"Delete all present debug logs.",isRed:!0},{default:D(()=>[b(a)?(M(),ae(we,{key:0,cssStyle:"h-4 w-4 mr-2"},{default:D(()=>g[8]||(g[8]=[U("Deleting data...")])),_:1})):(M(),H("p",fn,"Delete All"))]),_:1})])]),y(b(at),{headers:d,items:b(S),"search-field":v,"rows-per-page":10,"header-text-direction":"center","search-value":b(u),"no-hover":!0,"theme-color":"#312e3d","table-class-name":"tableCSS mb-12 rounded-lg border dark:border-gray-600 shadow-md"},{"empty-message":D(()=>[y(pe,{class:"font-semibold my-4"},{default:D(()=>g[9]||(g[9]=[U("No data present, please click Fetch Debug Log List button.")])),_:1})]),loading:D(()=>[y(pe,{class:"font-semibold my-4"},{default:D(()=>g[10]||(g[10]=[U("Data loading, please wait...")])),_:1})]),"item-LogUser.Name":D(({LogUser:C})=>[I("p",pn,re(C.Name),1)]),"item-StartTime":D(({StartTime:C})=>[U(re(C),1)]),"item-Status":D(({Status:C})=>[C!="Success"?(M(),H("p",vn,re(C),1)):(M(),H("p",mn,re(C),1))]),"item-Actions":D(({Id:C})=>[I("div",gn,[y(h,{icon:b(Ht),color:"blue",onClick:K=>G(C,!0),class:"mr-2 my-2",title:"View debug log"},null,8,["icon","onClick"]),y(h,{icon:b(Ne),color:"gray",class:"mr-2 my-2",title:"Download debug log",onClick:K=>x(C)},null,8,["icon","onClick"]),y(h,{icon:b(lt),color:"red",class:"mr-2 my-2",title:"Delete debug log",onClick:K=>O(C)},null,8,["icon","onClick"])])]),_:1},8,["items","search-value"]),y(w,{show:b(t),onClose:P,cssStyle:"mt-2 !max-w-screen-xl"},{default:D(()=>[I("div",hn,[I("div",bn,[I("div",null,[y(pe,{value:"Debug Log",class:"text-xl"})]),I("div",xn,[y(Mt,{value:"Show Debug Only",isChecked:b(p),onChange:$},null,8,["isChecked"]),y(h,{icon:b(Ne),color:"green",class:"ml-2 my-2",title:"Download debug log",onClick:g[1]||(g[1]=C=>x("debugLog"))},null,8,["icon"]),y(h,{icon:b(Pe),color:"red",class:"ml-2 my-2",title:"Close",onClick:P},null,8,["icon"])])]),wt(I("div",null,[y(i,{modelValue:b(n),"onUpdate:modelValue":g[2]||(g[2]=C=>ne(n)?n.value=C:null),them:"",options:{...m,readOnly:!1},lang:"apex",class:"w-full min-h-20 max-h-36 mb-10"},null,8,["modelValue","options"])],512),[[_t,b(p)]]),y(i,{modelValue:b(l),"onUpdate:modelValue":g[3]||(g[3]=C=>ne(l)?l.value=C:null),them:"",options:{...m,readOnly:!1},lang:"apex",class:"w-full monacoEditor"},null,8,["modelValue","options"]),I("div",yn,[y(ce,{type:"button",onClick:g[4]||(g[4]=C=>f(b(r))),class:"ml-3"},{default:D(()=>g[11]||(g[11]=[U(" Parse Debug Log Data ")])),_:1})])])]),_:1},8,["show"]),y(w,{show:b(E),onClose:N,cssStyle:"mt-48 !max-w-screen-xl"},{default:D(()=>[I("div",Sn,[I("button",{type:"button",onClick:N,class:"absolute top-3 end-3 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:bg-gray-600 dark:text-white dark:hover:bg-gray-500"},[y(b(Pe),{class:"w-6 h-6"}),g[12]||(g[12]=I("span",{class:"sr-only"},"Close modal",-1))]),I("div",kn,[y(b(qt),{class:"mx-auto mb-4 text-red-500 w-12 h-12 dark:text-gray-400"}),y(ee,{class:"text-lg text-gray-700"},{default:D(()=>g[13]||(g[13]=[U("Are you sure you want to delete all debug logs?")])),_:1}),y(ee,{class:"text-sm text-gray-600 mb-4"},{default:D(()=>{var C;return[U("This action will delete all debug logs from current org, instance url : "+re((C=b(c))==null?void 0:C.instance_url),1)]}),_:1}),I("div",null,[y(ce,{onClick:B,isRed:!0,class:"mr-4"},{default:D(()=>g[14]||(g[14]=[U("Yes, I'm sure")])),_:1}),y(ce,{onClick:N},{default:D(()=>g[15]||(g[15]=[U("No, cancel")])),_:1})])])])]),_:1},8,["show"])],64)}}}),Kn=It(wn,[["__scopeId","data-v-20255455"]]);export{Kn as default};
