import{_ as Xe,a as Ze}from"./CuTdjjvY.js";import{u as ea,r as aa,R as ta,S as sa,T as oa,_ as la,a as ra,b as na,D as ia}from"./tyoosHN1.js";import{_ as da}from"./CKP9D31c.js";import{_ as ua}from"./D7mtGAGI.js";import{_ as ca}from"./C0MpYsF0.js";import{_ as ma}from"./PYXEAhwZ.js";import{_ as fa}from"./BCUAfS-d.js";import{f as ya,z as va,U as ha,r,B as ga,i as ba,n as xa,o as d,c as b,b as s,d as l,w as m,e as k,t as D,u as t,q as C,x as T,s as y,C as M,T as G,S as W,y as _a,V as ke,Y as Sa,F as we,g as ka,j as De}from"./Ho11KFCP.js";import{_ as wa}from"./FIoW0_7y.js";import{c as q,i as Da,a as pa,b as Oa}from"./ycDIoMx1.js";import{h as Na}from"./BWsKriaw.js";import{_ as U}from"./C1WC2wNv.js";import{_ as K}from"./BA2uKlca.js";import{_ as pe,j as Ca}from"./D97VTyYW.js";import{T as Q,o as Ja,E as Ra}from"./BQImT8Uo.js";import{u as Va}from"./bkTsuWyN.js";import{e as Oe,a as v}from"./COAcYwch.js";import{r as Ne}from"./DLsSqBkb.js";const Ta={class:"flex justify-between"},Ba={class:"flex flex-col"},Pa={class:"flex items-center justify-between my-4"},ja={key:0,class:"flex items-center"},Ea={class:"text-sm font-medium text-gray-500 dark:text-gray-400"},Ia={class:"icon"},Aa={class:"flex items-center justify-end"},$a={key:1,class:"flex items-center justify-center"},Ma={class:"inline-flex items-center py-2"},qa={class:"inline-flex items-center py-2 ml-4"},Ua={class:"dark:border-gray-700 dark:shadow-xl dark:border rounded-lg overflow-hidden"},Fa={class:"relative flex items-center mb-2"},La={class:"absolute right-0"},za={class:"dark:border-gray-700 dark:shadow-xl dark:border rounded-lg overflow-hidden"},Ha={class:"p-6"},Ya={key:0,class:"mt-1 text-sm text-gray-600 dark:text-gray-400"},Ga={class:"mt-6"},Wa={key:0,class:"mt-1 text-sm text-gray-600 dark:text-gray-400"},Ka={key:1,class:"flex items-center justify-center"},Qa={class:"p-6"},Xa={class:"mt-6"},Za={class:"mt-1 text-sm text-gray-600 dark:text-gray-400"},et=["value"],at={key:0},tt={class:"relative flex items-center mb-2 mt-6"},st={class:"absolute right-0"},ot={class:"dark:border-gray-700 dark:shadow-xl dark:border rounded-lg overflow-hidden"},lt={class:"mt-6 flex justify-end"},rt={key:1,class:"flex items-center justify-center"},pt=ya({__name:"index",props:{searchData:Object},setup(Ce){var se,oe,le,re,ne,ie;Va({title:"Beautify/Minify JSON | SFDC Developer Toolkit",ogTitle:"Beautify/Minify JSON | SFDC Developer Toolkit",description:"Online JSON Formatter / Beautifier and JSON Validator will format JSON data, and helps to validate, Save and Share JSON",ogDescription:"Online JSON Formatter / Beautifier and JSON Validator will format JSON data, and helps to validate, Save and Share JSON"});const e=Ce,F=[Ca(),Ja,Ra.lineWrapping],Je=va(),L=o=>{Je.value=o.view},X=ha(),Z=ea(),J=r(!1),B=r(!1),p=r(!0),O=r("");r(!0),r(null);const z=r(!1);r(!1),r("Output JSON"),r("Output JSON");const u=r(""),h=r(""),P=r(!0),j=r(!1),H=r("Enter Rest Resource Name"),Re=r(null),Ve=async()=>{var o,a,_;(o=e==null?void 0:e.searchData)!=null&&o.json&&((a=e==null?void 0:e.searchData)==null?void 0:a.json)!="No JSON Code Found"&&(u.value=JSON.stringify(JSON.parse((_=e==null?void 0:e.searchData)==null?void 0:_.json)),A())},Te=async o=>{Re.value=o},Be=()=>{u.value="",O.value="",De("/tools/json/formatter/")},c=r(!0),ee=r("auto"),Y=()=>{c.value=!c.value,ee.value=c.value?"auto":"600px"},x=r({name:(se=e==null?void 0:e.searchData)!=null&&se.name?(oe=e==null?void 0:e.searchData)==null?void 0:oe.name:"",shared:(le=e==null?void 0:e.searchData)!=null&&le.shared?(re=e==null?void 0:e.searchData)==null?void 0:re.shared:!1,user:null}),N=r({name:(ne=e==null?void 0:e.searchData)==null?void 0:ne.name,resourceName:(ie=e==null?void 0:e.searchData)==null?void 0:ie.resourceName,method:"POST",type:"RestResource",namespace:"omnistudio",osType:"IP"}),Pe=["GET","POST","PUT","PATCH","DELETE"],ae=r(null),g=r(null),E=r("Save to Cloud"),f=r("Save"),I=r(null),i=r(!1),je=o=>{o()},S=()=>{J.value=!1,B.value=!1,i.value=!1,B.value=!1},Ee=()=>{Oe(Z,!0)},Ie=async()=>{var o;g.value||(g.value=await q()),ae.value={table:"tool_json",fields:"id,name",like:{searchColumn:"name"},orStatement:`user.eq.${(o=g.value)==null?void 0:o.id},shared.eq.true`}},Ae=async()=>{var o,a;(o=e==null?void 0:e.searchData)!=null&&o.id&&((a=e==null?void 0:e.searchData)==null?void 0:a.createdBy)==g.value.name?await Ue():await te()},te=async()=>{I.value=$e,E.value="Save to Cloud",f.value="Save",J.value=!0},$e=async()=>{i.value=!0,g.value||(g.value=await q());const o={table:"tool_json",insertValues:[{name:x.value.name,user:g.value.id,json:u.value,shared:x.value.shared}],selectValues:"id, name"},a=await Da(o);if(console.log("resp --> "+JSON.stringify(a)),(a==null?void 0:a.code)=="23505"&&(a!=null&&a.message)){v("Duplicate record exists, please choose different name.","Error"),i.value=!1;return}else a!=null&&a.id?(v("Record has been saved","Success"),X.push(`/tools/json/formatter/${a==null?void 0:a.id}`)):(console.log("error --> "+JSON.stringify(a)),v("Record was not inserted, check dev console for errors","Error"));i.value=!1,S()},Me=async()=>{var o;I.value=qe,E.value="Delete Record : "+((o=e==null?void 0:e.searchData)==null?void 0:o.name),f.value="Delete",J.value=!0},qe=async()=>{var _,$;if(!((_=e==null?void 0:e.searchData)!=null&&_.id))return;i.value=!0;const o={table:"tool_json",filter:{compareTo:"id",CompareValue:($=e==null?void 0:e.searchData)==null?void 0:$.id}},a=await pa(o);console.log("deleteRecord --> "+JSON.stringify(a)),i.value=!1,S(),v("Record has been deleted."),await De("/tools/json/formatter/")},Ue=async()=>{var o;I.value=Fe,E.value="Update your record : "+((o=e==null?void 0:e.searchData)==null?void 0:o.name),f.value="Update",J.value=!0},Fe=async()=>{var _;i.value=!0,g.value||(g.value=await q());const o={table:"tool_json",insertValues:[{name:x.value.name,json:u.value,shared:x.value.shared}],filter:{compareTo:"id",compareValue:(_=e==null?void 0:e.searchData)==null?void 0:_.id},selectValues:"id, name"},a=await Oa(o);if((a==null?void 0:a.code)=="23505"&&(a!=null&&a.message)){v("Duplicate record exists, please choose different name.","Error"),i.value=!1;return}else a!=null&&a.id?(v("Record has been updated.","Success"),X.push(`/tools/json/formatter/${a==null?void 0:a.id}`)):(console.log("error --> "+JSON.stringify(a)),v("Record was not inserted, check dev console for errors","Error"));i.value=!1,S()},Le=()=>{P.value=!P.value},ze=()=>{j.value=!j.value},He=()=>{p.value=!p.value,p.value?H.value="REST Resource Name":H.value="Integration Procedure (Enter Type_SubType)"},Ye=()=>{P.value&&u.value&&A(),j.value&&h.value&&(A(),Oe(h.value,!1))},A=()=>{try{u.value&&u.value.trim()?h.value=JSON.stringify(JSON.parse(u.value),null,2):(v("Please enter your JSON first.","Error"),console.log("inside else block beautifyJSON"))}catch(o){console.log("error --> "+o),v("Invalid JSON.","Error"),h.value=""+o}},Ge=()=>{try{u.value?(h.value=JSON.stringify(JSON.parse(u.value)),console.log("inside block minifyJSON")):(v("Please enter your JSON first.","Error"),console.log("inside else block minifyJSON"))}catch(o){console.log("error --> "+o),v("Invalid JSON.","Error"),h.value=""+o}},We=()=>{B.value=!0},Ke=async()=>{i.value=!0;try{const o=await Na("Custom_RestResource",N.value.name,u.value,N.value.method);console.log("response --> "+JSON.stringify(o)),O.value=JSON.stringify(o,null,2),i.value=!1}catch(o){v("Some error occured while hitting API, please check dev console","Error"),console.error("error --> "+o),i.value=!1}};return ga(()=>x.value.name,()=>{te()}),ba(async()=>{Y(),await xa(),g.value=await q(),await Ie(),await Ve()}),(o,a)=>{var me,fe,ye,ve,he,ge,be,xe,_e,Se;const _=Xe,$=Ze,Qe=la,R=da,V=ra,w=ua,de=ca,ue=ma,ce=fa;return d(),b(we,null,[s("div",Ta,[s("div",Ba,[l(_,{class:"mb-2",subText:(me=e==null?void 0:e.searchData)==null?void 0:me.name},{default:m(()=>a[8]||(a[8]=[k("Beautify/Minify JSON")])),_:1},8,["subText"]),l($,null,{default:m(()=>{var n;return[k("Paste or type your JSON and hit execute. "+D((n=e==null?void 0:e.searchData)!=null&&n.name?`Also you can use
                below url to share with your team.`:""),1)]}),_:1})]),s("div",null,[l(wa,{onDefaultOrgSelected:Te})])]),s("div",Pa,[s("div",null,[(fe=e==null?void 0:e.searchData)!=null&&fe.name&&((ye=e==null?void 0:e.searchData)==null?void 0:ye.name)!="NA"?(d(),b("div",ja,[s("div",{class:"border rounded-lg px-3 py-1.5 flex items-center justify-between cursor-pointer flex-shrink-0 bg-slate-50 hover:bg-slate-100 dark:bg-gray-700/90 dark:border-gray-600 dark:text-gray-400 dark:hover:bg-gray-700/50 hover:border-slate-300 hover:shadow-md transition duration-300 ease-in-out",onClick:Ee},[s("p",Ea,D(t(Z)),1),s("span",Ia,[l(t(aa),{class:"h-4 w-4 text-gray-500 dark:text-gray-400 ml-4"})])])])):C("",!0)]),s("div",Aa,[l(Qe,{class:"mr-2",searchTable:"tool_json",isIcon:!1,routePath:"tools/json/formatter",searchParams:t(ae)},null,8,["searchParams"]),l(R,{onClick:We,class:y(["mr-2",[t(z)?"cursor-not-allowed opacity-80":"cursor-pointer"]]),disabled:t(z)},{default:m(()=>[t(z)?(d(),T(K,{key:0,cssStyle:"h-4 w-4 mr-2"},{default:m(()=>a[9]||(a[9]=[k("Executing code..")])),_:1})):(d(),b("div",$a," Execute API "))]),_:1},8,["class","disabled"]),t(u)?(d(),T(V,{key:0,icon:na,isSquare:!1,onClick:Ae,color:"green",class:"mr-2",title:"Save Record"})):C("",!0),(ve=e==null?void 0:e.searchData)!=null&&ve.id&&((he=e==null?void 0:e.searchData)==null?void 0:he.createdBy)==((ge=t(g))==null?void 0:ge.name)?(d(),T(V,{key:1,icon:ia,isSquare:!1,onClick:Me,color:"red",class:"mr-2",title:"Delete Record"})):C("",!0),l(V,{icon:ta,isSquare:!1,color:"gray",class:"mr-2",title:"Reset Data",onClick:Be}),M(l(V,{icon:sa,isSquare:!1,color:"blue",onClick:Y,class:"!p-1.5 mr-4",title:"Toggle to Side by Side View"},null,512),[[G,t(c)]]),M(l(V,{icon:oa,isSquare:!1,onClick:Y,color:"blue",class:"!p-1.5 mr-4",title:"Toggle to Top vs Bottom View"},null,512),[[G,!t(c)]])])]),s("div",Ma,[l(R,{onClick:A},{default:m(()=>a[10]||(a[10]=[k("Beautify")])),_:1}),l(R,{onClick:Ge,class:"ml-4"},{default:m(()=>a[11]||(a[11]=[k("Minify")])),_:1}),s("div",qa,[l(U,{value:"Auto Beautify",isChecked:t(P),onChange:Le},null,8,["isChecked"]),l(U,{value:"Auto Copy",isChecked:t(j),onChange:ze},null,8,["isChecked"])])]),s("div",{class:y({"flex flex-col lg:flex-row space-y-4 lg:space-y-0 lg:space-x-4 mt-8":!t(c)})},[s("div",{class:y(["w-full mr-3",{"lg:w-1/2":!t(c),"mt-2":t(c)}])},[s("div",{class:y(["",{"flex items-center justify-between":!t(c)}])},[l(w,{value:"Input JSON",class:y({"mb-2":!t(c),"mb-3":t(c)&&!((be=e==null?void 0:e.searchData)!=null&&be.createdBy)})},null,8,["class"]),(xe=e==null?void 0:e.searchData)!=null&&xe.createdBy?(d(),b("p",{key:0,class:y(["block font-medium text-sm text-gray-600 dark:text-gray-300 mb-2",{"ml-3 mr-2":!t(c),"mt-2":t(c)}])},"Created By : "+D((_e=e==null?void 0:e.searchData)==null?void 0:_e.createdBy)+" at "+D((Se=e==null?void 0:e.searchData)==null?void 0:Se.createdDate),3)):C("",!0)],2),s("div",Ua,[l(t(Q),{modelValue:t(u),"onUpdate:modelValue":[a[0]||(a[0]=n=>W(u)?u.value=n:null),Ye],placeholder:"Paste your JSON here",style:_a({height:t(ee),borderRadius:"5px",overflow:"hidden",maxHeight:"600px",minHeight:"100px"}),autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:F,onReady:L},null,8,["modelValue","style"])])],2),s("div",{class:y(["w-full mr-3",{"lg:w-1/2":!t(c),"mt-4":t(c)}])},[s("div",Fa,[s("div",null,[l(w,{value:"Output JSON"})]),s("div",La,[l(pe,{copyValue:t(h),class:"mr-2 ml-4 mb-2"},null,8,["copyValue"])])]),s("div",za,[l(t(Q),{modelValue:t(h),"onUpdate:modelValue":a[1]||(a[1]=n=>W(h)?h.value=n:null),placeholder:"Execute any action",style:{height:"600px",borderRadius:"5px",overflow:"hidden"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:F,onReady:L},null,8,["modelValue"])])],2)],2),l(ce,{show:t(J),onClose:S,cssStyle:t(f)==="Delete"?"mt-72":""},{default:m(()=>[s("button",{type:"button",onClick:S,class:"absolute top-3 end-3 text-gray-400 bg-gray-100 hover:bg-gray-200 hover:text-gray-600 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:bg-gray-600 dark:text-white dark:hover:bg-gray-500 transition duration-200 ease-in-out"},[l(t(Ne),{class:"w-6 h-6"}),a[12]||(a[12]=s("span",{class:"sr-only"},"Close modal",-1))]),s("div",Ha,[s("h2",{class:y(["text-lg font-medium text-gray-900 dark:text-gray-100",[t(f)=="Delete"?"text-center":""]])},D(t(E)),3),t(f)!="Delete"?(d(),b("p",Ya," You can save this data to cloud and retrive or share with your team. ")):(d(),b("p",{key:1,class:y(["mt-1 text-sm text-gray-600 dark:text-gray-400",[t(f)=="Delete"?"text-center":""]])}," This record will be permanently deleted. ",2)),s("form",{onSubmit:a[4]||(a[4]=ke(n=>je(t(I)),["prevent"]))},[M(s("div",Ga,[l(w,{for:"name",value:"File Name",class:"mt-4"}),l(de,{modelValue:t(x).name,"onUpdate:modelValue":a[2]||(a[2]=n=>t(x).name=n),ref:"nameInput",type:"text",id:"name",class:"mt-1 block w-full py-2",required:t(f)!="Delete",placeholder:"Enter file name"},null,8,["modelValue","required"]),l(w,{for:"shared",value:"is Public?",class:"mt-4"}),t(f)!="Delete"?(d(),b("p",Wa," Allow others to access, recommended if you want to share data with your team. ")):C("",!0),l(U,{isChecked:t(x).shared,onChange:a[3]||(a[3]=n=>t(x).shared=!t(x).shared),class:"mt-2"},null,8,["isChecked"])],512),[[G,t(f)!="Delete"]]),s("div",{class:y(t(f)=="Delete"?"mt-6 text-center":"mt-6 flex justify-end")},[l(ue,{onClick:S},{default:m(()=>a[13]||(a[13]=[k(" Cancel ")])),_:1}),l(R,{class:y(["ml-3",[t(f)=="Delete"?"bg-red-600 hover:bg-red-500 active:bg-red-700 focus:ring-red-500":"",t(i)?"cursor-not-allowed opacity-80":"cursor-pointer"]]),disabled:t(i)},{default:m(()=>[t(i)?(d(),T(K,{key:0,cssStyle:"h-4 w-4 mr-2"},{default:m(()=>a[14]||(a[14]=[k("Saving.. ")])),_:1})):(d(),b("div",Ka,D(t(f)),1))]),_:1},8,["class","disabled"])],2)],32)])]),_:1},8,["show","cssStyle"]),l(ce,{show:t(B),onClose:S},{default:m(()=>[s("button",{type:"button",onClick:S,class:"absolute top-3 end-3 text-gray-400 bg-gray-100 hover:bg-gray-200 hover:text-gray-600 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:bg-gray-600 dark:text-white dark:hover:bg-gray-500 transition duration-200 ease-in-out"},[l(t(Ne),{class:"w-6 h-6"}),a[15]||(a[15]=s("span",{class:"sr-only"},"Close modal",-1))]),s("div",Qa,[a[18]||(a[18]=s("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Hit API to Salesforce Org ",-1)),a[19]||(a[19]=s("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," You can save execute REST Resource or Integration Procedure (for OmniStudio Enabled Orgs) ",-1)),s("form",{onSubmit:ke(Ke,["prevent"])},[s("div",Xa,[l(w,{for:"shared",value:t(p)?"Rest Resource":"Integration Procedure",class:"mt-4"},null,8,["value"]),s("p",Za," Toggle to Enable "+D(t(p)?"Integration Procedure":"Rest Resource"),1),l(U,{isChecked:t(p),onChange:He,class:"mt-2"},null,8,["isChecked"]),l(w,{for:"name",value:t(H),class:"mt-4 mb-2"},null,8,["value"]),l(de,{modelValue:t(N).name,"onUpdate:modelValue":a[5]||(a[5]=n=>t(N).name=n),ref:"nameInput",type:"text",id:"name",class:"mt-1 block w-full py-2",placeholder:"Enter file name"},null,8,["modelValue"]),l(w,{for:"method",value:"Method",class:"mt-4 mb-2"}),M(s("select",{"onUpdate:modelValue":a[6]||(a[6]=n=>t(N).method=n),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[(d(),b(we,null,ka(Pe,n=>s("option",{value:n,key:n},D(n),9,et)),64))],512),[[Sa,t(N).method]]),t(O)?(d(),b("div",at,[s("div",tt,[s("div",null,[l(w,{value:"Output JSON"})]),s("div",st,[l(pe,{copyValue:t(h),class:"mr-2 ml-4 mb-2"},null,8,["copyValue"])])]),s("div",ot,[l(t(Q),{modelValue:t(O),"onUpdate:modelValue":a[7]||(a[7]=n=>W(O)?O.value=n:null),placeholder:"Your data will appear here",style:{height:"300px",borderRadius:"5px",overflow:"hidden",marginTop:"7px"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:F,onReady:L},null,8,["modelValue"])])])):C("",!0)]),s("div",lt,[l(ue,{onClick:S},{default:m(()=>a[16]||(a[16]=[k(" Cancel ")])),_:1}),l(R,{class:y(["ml-3",[t(i)?"cursor-not-allowed opacity-80":"cursor-pointer"]]),disabled:t(i)},{default:m(()=>[t(i)?(d(),T(K,{key:0,cssStyle:"h-4 w-4 mr-2"},{default:m(()=>a[17]||(a[17]=[k("Executing.. ")])),_:1})):(d(),b("div",rt," Execute API "))]),_:1},8,["class","disabled"])])],32)])]),_:1},8,["show"])],64)}}});export{pt as _};
