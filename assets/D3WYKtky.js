import{v as M,f as k,r,i as G,o as l,c,b as s,d as y,w as g,e as _,C as x,Y as N,F as h,g as D,t as f}from"./Ho11KFCP.js";import{_ as R}from"./CKP9D31c.js";import{_ as b}from"./D7mtGAGI.js";import{f as B}from"./ycDIoMx1.js";import{a as v}from"./COAcYwch.js";import{u as w}from"./Z-iyx2tQ.js";import"./BhtQlZEJ.js";const Q=M(),t=Q.public.SF_API_VERSION,U=[{name:"UserInfo",uri:"oauth2/userinfo",method:"GET",contentType:"application/json",responeType:"json"},{name:"User_QueryByName",uri:`data/v${t}/query/?q=SELECT%20Id,%20Name%20FROM%20User%20WHERE%20IsActive%20=%20true%20AND%20Name%20LIKE%20'%25<RecordId>%25'`,method:"GET",contentType:"application/json",responeType:"json"},{name:"OrgLimits",uri:`data/v${t}/limits`,method:"GET",contentType:"application/json",responeType:"json"},{name:"APIVersions",uri:"data",method:"GET",contentType:"application/json",responeType:"json"},{name:"AvailableResources",uri:`data/v${t}`,method:"GET",contentType:"application/json",responeType:"json"},{name:"Tooling_Query_ApexLog",uri:`data/v${t}/tooling/query/?q=SELECT+Id,LogUser.Name,LogLength,LastModifiedDate,Request,Operation,Status, DurationMilliseconds,SystemModstamp,StartTime,Location+FROM+apexlog+order+by+LastModifiedDate+desc`,method:"GET",contentType:"application/json",responeType:"json"},{name:"Tooling_Query_ApexLogBody",uri:`data/v${t}/tooling/sobjects/ApexLog/<RecordId>/Body`,method:"GET",contentType:"application/json",responeType:"text"},{name:"Tooling_Delete_ApexLog",uri:`data/v${t}/tooling/sobjects/ApexLog/<RecordId>`,method:"DELETE",contentType:"application/json",responeType:"text"},{name:"Tooling_Query_DebugLevel",uri:`data/v${t}/tooling/query?q=SELECT+Id,DeveloperName,ApexCode,ApexProfiling,Database+FROM+DebugLevel`,method:"GET",contentType:"application/json",responeType:"json"},{name:"Tooling_Create_FinestDebugLevel",uri:`data/v${t}/tooling/sobjects/DebugLevel`,method:"POST",contentType:"application/json",responeType:"json"},{name:"Tooling_Query_TraceFlag",uri:`data/v${t}/tooling/query?q=SELECT+Id,TracedEntity.Name,StartDate,ExpirationDate,DebugLevel.DeveloperName+FROM+TraceFlag+Order+By+CreatedDate+desc`,method:"GET",contentType:"application/json",responeType:"json"},{name:"Tooling_Create_CreateTraceFlag",uri:`data/v${t}/tooling/sobjects/TraceFlag`,method:"POST",contentType:"application/json",responeType:"json"},{name:"Tooling_Patch_RenewTraceFlag",uri:`data/v${t}/tooling/sobjects/TraceFlag/<RecordId>`,method:"PATCH",contentType:"application/json",responeType:"json"},{name:"Tooling_Delete_TraceFlag",uri:`data/v${t}/tooling/sobjects/TraceFlag/<RecordId>`,method:"DELETE",contentType:"application/json",responeType:"json"},{name:"Tooling_DeleteAllTraceFlags",uri:`data/v${t}/tooling/query?q=SELECT+Id,TracedEntity.Name,StartDate,ExpirationDate,DebugLevel.DeveloperName+FROM+TraceFlag+Order+By+CreatedDate+desc`,method:"GET",contentType:"application/json",responeType:"json"},{name:"Tooling_Query_MainClassCoverageList",uri:`data/v${t}/tooling/query/?q=SELECT Id,ApexClassOrTrigger.Name,ApexClassOrTriggerId, NumLinesCovered, NumLinesUncovered, CreatedBy.Name, LastModifiedDate FROM ApexCodeCoverageAggregate Where ( NumLinesCovered> 0 OR NumLinesUncovered > 0 ) order by LastModifiedDate desc`,method:"GET",contentType:"application/json",responeType:"json"},{name:"Search_Query_TestClass",uri:`data/v${t}/search?q=FIND {@istest or @isTest or testmethod} RETURNING ApexClass(Id, Name,CreatedBy.Name, CreatedDate, LastModifiedDate,LastModifiedBy.Name)`,method:"GET",contentType:"application/json",responeType:"json"},{name:"Tooling_GetTestClassData",uri:`data/v${t}/tooling/query/?q=select id, ApexClassOrTrigger.Name,ApexTestClassId, ApexTestClass.Name,ApexTestClass.CreatedBy.Name,ApexTestClass.LastModifiedBy.Name, ApexTestClass.CreatedDate, ApexTestClass.LastModifiedDate from ApexCodeCoverage where ApexClassOrTriggerId ='<RecordId>'`,method:"GET",contentType:"application/json",responeType:"json"},{name:"Tooling_Run_Test",uri:`data/v${t}/tooling/runTestsAsynchronous/`,method:"POST",contentType:"application/json",responeType:"json"},{name:"Tooling_GetApexClassBody",uri:`data/v${t}/tooling/query/?q=SELECT Id,Name, CreatedBy.Name, LastModifiedBy.Name, LastModifiedDate, Body from ApexClass where Id IN (<RecordId>)`,method:"GET",contentType:"application/json",responeType:"json"},{name:"Tooling_GetTestCoverageValues",uri:`data/v${t}/tooling/query?q=SELECT ApexClassOrTriggerId, ApexTestClassId, ApexClassOrTrigger.Name, ApexTestClass.Name, TestMethodName, NumLinesCovered, NumLinesUncovered, Coverage FROM ApexCodeCoverage WHERE ApexClassOrTriggerId ='<RecordId>'`,method:"GET",contentType:"application/json",responeType:"json"},{name:"Query_GetCatalogCode",uri:`data/v${t}/query/?q=SELECT Id, vlocity_cmt__CatalogCode__c FROM vlocity_cmt__Catalog__c`,method:"GET",contentType:"application/json",responeType:"json"},{name:"Query_AccountRecordType",uri:`data/v${t}/query/?q=select Id,Name from RecordType where sObjectType='Account' AND Name IN ('Service','Billing','Consumer')`,method:"GET",contentType:"application/json",responeType:"json"},{name:"Query_PriceList",uri:`data/v${t}/query/?q=SELECT Id,Name FROM vlocity_cmt__PriceList__c WHERE vlocity_cmt__IsActive__c = TRUE`,method:"GET",contentType:"application/json",responeType:"json"},{name:"Query_PriceBookEntryList",uri:`data/v${t}/query/?q=SELECT Id,Name,Pricebook2.Name,Product2.Name,Product2.ProductCode, Product2.vlocity_cmt__Type__c, Product2.vlocity_cmt__SubType__c,Product2.Family FROM PricebookEntry WHERE Product2.vlocity_cmt__IsOrderable__c = True AND IsActive = True ORDER BY Name, Pricebook2.Name DESC`,method:"GET",contentType:"application/json",responeType:"json"},{name:"EPC_GetOffersByCatalogCode",uri:"apexrest/vlocity_cmt/v3/catalogs/<RecordId>/offers",method:"GET",contentType:"application/json",responeType:"json"},{name:"CRUD_CompositeAPI",uri:`data/v${t}/composite/`,method:"POST",contentType:"application/json",responeType:"json"},{name:"CPQ_CreateCart",uri:"apexrest/vlocity_cmt/v2/carts",method:"POST",contentType:"application/json",responeType:"json"},{name:"CPQ_AddItemsToCart",uri:"apexrest/vlocity_cmt/v2/cpq/carts/<RecordId>/items",method:"POST",contentType:"application/json",responeType:"json"},{name:"CPQ_CheckoutOrder",uri:"apexrest/vlocity_cmt/v2/cpq/carts/<RecordId>/items/checkout",method:"POST",contentType:"application/json",responeType:"json"},{name:"Custom_RestResource",uri:"apexrest/<RecordId>",method:"POST",contentType:"application/json",responeType:"json"},{name:"Custom_OmniStudio",uri:"apexrest/<RecordId>",method:"POST",contentType:"application/json",responeType:"json"}],V=()=>U,H={class:"grid grid-cols-2 gap-6"},Y=["value"],W=["value"],X={class:"my-10 bg-gray-100 p-6 rounded-lg border"},ne=k({__name:"public",setup(K){const p=r([]),i=r(null),C=r(null),E=r([]),u=r(""),L=(n=0,o=!1,e=new Date)=>{const j=e.getFullYear(),T=(e.getMonth()+1).toString().padStart(2,"0"),m=e.getDate().toString().padStart(2,"0");let a=e.getHours(),d=e.getMinutes()+n;if(d>=60&&(a+=Math.floor(d/60),d%=60),a>=24){a%=24,e.setDate(e.getDate()+1);const $=e.getFullYear(),q=(e.getMonth()+1).toString().padStart(2,"0"),F=e.getDate().toString().padStart(2,"0");return`${$}-${q}-${F}T${a.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}`}return`${j}-${T}-${m}T${a.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}`},S=r(L()),A=r(L(30,!0));console.log(S.value),console.log(A.value);const I=async()=>{try{p.value=await B(),i.value=p.value[0],p.value.length>0&&v("Org list has been loaded.","Success")}catch(n){v("Error Occured while fetching data, check console","Error"),console.error("errorToastMsg",n)}},O=async()=>{var T,m;const n=((T=i.value)==null?void 0:T.instance_url)||"",o=((m=i.value)==null?void 0:m.access_token)||"",e=u.value||"",j={StartDate:S.value,ExpirationDate:A.value,TracedEntityId:"005IR00000FX3fGYAT",DebugLevelId:"7dlIR000001131NYAQ",LogType:"USER_DEBUG"};try{const{data:a}=await w("/api/sfdc/hitAPI",{query:{instance_url:n,access_token:o,sfdcAction:e},server:!1,method:"POST",body:j},"$Bjcv5GXrqi");C.value=a,v("Data loaded.","Success")}catch(a){C.value=a,console.log("error --> "+a),v(a,"Error")}},P=()=>{var n;I(),E.value=V(),u.value=((n=E.value[0])==null?void 0:n.name)||""};return G(()=>{P()}),(n,o)=>(l(),c(h,null,[s("div",H,[s("div",null,[y(b,null,{default:g(()=>o[2]||(o[2]=[_("Select API")])),_:1}),x(s("select",{"onUpdate:modelValue":o[0]||(o[0]=e=>u.value=e),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[(l(!0),c(h,null,D(E.value,e=>(l(),c("option",{value:e.name,key:e.name},f(e.name),9,Y))),128))],512),[[N,u.value]])]),s("div",null,[y(b,null,{default:g(()=>o[3]||(o[3]=[_("Select Org")])),_:1}),x(s("select",{"onUpdate:modelValue":o[1]||(o[1]=e=>i.value=e),class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"},[(l(!0),c(h,null,D(p.value,e=>(l(),c("option",{value:e,key:e.instance_url},f(e.instance_url),9,W))),128))],512),[[N,i.value]])]),y(R,{onClick:O},{default:g(()=>o[4]||(o[4]=[_("Hit API")])),_:1}),y(R,{onClick:I},{default:g(()=>o[5]||(o[5]=[_("Fetch Org Data")])),_:1})]),s("pre",X,f(C.value),1)],64))}});export{ne as default};
